status: 200
content-length: 209425
content-location: http://www.ticketmaster.com/event/01004B6CEF36F72D?c=LNSM_NewEngland_Dise_twt_JohnBrownsBody_onsale_111513
set-cookie: SID=Ljx2kGPHmNLh5XyHD4D-jt6Kn485cWe1B8ZitZDyvAQ_nUszmfXLYrJsspRKO_omgwiFY0IXCifV-9kF;
 path=/; domain=.ticketmaster.com,
 BID=4YR-oqjD56q1ea8dnreI7TdXe3iL_EBxLEt1A9eYXSEI4CYXYH_hdCHizE0db884Kn2gVeGfTr8uOaMg27EV;
 path=/; domain=.ticketmaster.com;
 expires=Fri, 01-Jan-2038 00:00:01 GMT, GEORAN=1; path=/;
 domain=.ticketmaster.com; expires=, NDMA=346; path=/;
 domain=.ticketmaster.com, NPDMA=346; path=/; domain=.ticketmaster.com;
 expires=Mon, 28-Sep-2015 22:54:18 GMT, GEO_OMN=in; path=/;
 domain=.ticketmaster.com, csrf_token=ca59a8e590f24b576ed90451a0fe8beb; path=/;
 domain=.ticketmaster.com, BRAND=; path=/; domain=.ticketmaster.com;
 expires=Thu Jan 1 00:00:00 1970,
 CMPS=cgcrdPAn1Y8Cff9NSPmlqbWe86UFPC0a3/B5lhttqPYPIWWqw/UBpw==; path=/
expires: Thu,  1 Jan 1970 00:00:00 GMT
vary: Accept-Encoding
server: Apache
connection: keep-alive, Transfer-Encoding
-content-encoding: gzip
x-tm-gtm-origin: tmol-us-ash1
date: Sun, 28 Sep 2014 17:06:18 GMT
p3p: policyref="/w3c/tmol/p3p.xml",
 CP="IDC DSP COR CURa ADMa DEVa TAIa PSAa CONo HISa TELo OURDELo UNRo IND
 PHY ONL UNI PUR COM NAV INT DEM"
content-type: text/html; charset=utf-8
-varied-accept-encoding: gzip, deflate




















































<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://opengraphprotocol.org/schema/" xmlns:fb="http://www.facebook.com/2008/fbml" lang="en" xml:lang="en">
<head>
    <title>Ticketmaster</title>

<meta property="og:title" content="Ticketmaster" />
<meta property="og:type" content="activity" />
<meta property="og:url" content="http://www.ticketmaster.com/event/01004B6CEF36F72D" />
<meta property="og:image" content="http://media.ticketmaster.com/tm/en-us/img/static/icon/tm_favicon_50x50.png" />
<meta property="og:description" content="on Ticketmaster" />
<meta property="og:site_name" content="Ticketmaster" />
<meta property="fb:app_id" content="140669015975185" />
<meta name="description" content="Find and buy tickets: concerts, sports, arts, theater, theatre, broadway shows, family events at Ticketmaster.com" />

    <meta name="keywords" content="tickets, concert tickets, concert listings, concert tour dates, sports tickets, theater tickets, family tickets, hot tickets, buy tickets" />



<meta name="rating" content="general" />
<meta name="copyright" content="2014, Ticketmaster" />
<meta name="expires" content="never" />
<meta name="distribution" content="global" />
<meta name="robots" content="index" />
<meta name="robots" content="NOODP" />
<meta name="fragment" content="!" /><meta name="apple-itunes-app" content="app-id=500003565"><link rel="icon" href="http://media.ticketmaster.com/tm/en-us/img/static/favicon-rebrand.ico" type="image/x-icon" />
<link rel="shortcut icon" href="http://media.ticketmaster.com/tm/en-us/img/static/favicon-rebrand.ico" type="image/x-icon" />
<link rel="canonical" href="http://www.ticketmaster.com" />



<!--[if gt IE 6]>
<meta name="msapplication-starturl" content="/" />
<meta name="msapplication-navbutton-color" content="#3480C0" />
<meta name="msapplication-window" content="width=1024;height=768" />
<meta name="application-name" content="Ticketmaster.com" />
<meta name="msapplication-tooltip" content="Ticketmaster - Find and buy tickets" />
<meta name="msapplication-task" content="name=Home;action-uri=http://www.ticketmaster.com?c=IE9_Pinned-Site_Home;icon-uri=http://media.ticketmaster.com/tm/en-us/img/sys/rebrand/faviconhome.ico" />
<meta name="msapplication-task" content="name=Music;action-uri=http://www.ticketmaster.com/section/concerts?c=IE9_Pinned-Site_Music;icon-uri=http://media.ticketmaster.com/tm/en-us/img/sys/rebrand/faviconhome.ico" />
<meta name="msapplication-task" content="name=Sports;action-uri=http://www.ticketmaster.com/section/sports?c=IE9_Pinned-Site_Sports;icon-uri=http://media.ticketmaster.com/tm/en-us/img/sys/rebrand/faviconhome.ico" />
<meta name="msapplication-task" content="name=Arts & Theater;action-uri=http://www.ticketmaster.com/section/arts_theater?c=IE9_Pinned-Site_Arts-Theater;icon-uri=http://media.ticketmaster.com/tm/en-us/img/sys/rebrand/faviconhome.ico" />
<meta name="msapplication-task" content="name=Family;action-uri=http://www.ticketmaster.com/section/family?c=IE9_Pinned-Site_Family;icon-uri=http://media.ticketmaster.com/tm/en-us/img/sys/rebrand/faviconhome.ico" />
<script type="text/javascript" language="javascript">
var ie9pinned = false;
try {

    if (window.external.msIsSiteMode()) {
        // Site mode is supported and active.
        ie9pinned = true;
	window.external.msSiteModeCreateJumplist("Stay Connected on Ticketmaster");
        window.external.msSiteModeAddJumpListItem("Ticket Deals", "http://www.ticketmaster.com/ticketdeals?c=IE9_Pinned-Site_TicketDeals", "http://media.ticketmaster.com/tm/en-us/img/sys/rebrand/faviconticketdeals.ico");
        window.external.msSiteModeAddJumpListItem("My Ticketmaster", "https://www.ticketmaster.com/member?c=IE9_Pinned-Site_myTM", "http://media.ticketmaster.com/tm/en-us/img/sys/rebrand/faviconmytm.ico");
        window.external.msSiteModeShowJumplist();
    }
    else {
        // Site mode is supported, but inactive.
    }
}
catch (ex) {

}
</script>

<![endif]-->

<script>
    var isSuperNav = 0;
</script>

<!-- ClickStream MetaTags - End -->

<script type="text/javascript">
    var disableVFS = 0;
</script>
    <script type="text/javascript">
        var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];
        (function() {
            var gads = document.createElement('script');
            gads.async = true;
            gads.type = 'text/javascript';
            var useSSL = 'https:' == document.location.protocol;
            gads.src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';
            var node = document.getElementsByTagName('script')[0];
            node.parentNode.insertBefore(gads, node);
        })();
    </script>
<script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/tmjs.js"></script>




    <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/prototype/prototype.js"></script>





  <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/libs/jquery/1.6.1/jquery.min.js"></script>
  <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/libs/jqueryui/1.8.14/jquery-ui.min.js"></script>
  <script src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/libs/jquery/plugins/jquery.xml2json.min.js"></script>

<script src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/libs/jquery/plugins/jquery.scrollto.min.js"></script>
<script src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/libs/jqueryui/plugins/jquery.tm.priceslider.js"></script>

<script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/libs/jquery/plugins/jquery.bgiframe-2.1.2.js"></script>
<script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/libs/jqueryui/plugins/tm.js"></script>




    <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/edp/jquery.tm.dropdownmenu.js"></script>


    <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/libs/writeCapture/element.write.js"></script>
    <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/libs/writeCapture/writeCapture.js"></script>
<script type="text/javascript">
//<![CDATA[
	jQuery.noConflict();
		
	
	
	jQuery(document).ready(function($) {
	
    	
    	$("#googleIcon").omnitureExternalOnce({
    	    omnitureValue: "Onclick_Googleplus_Badge_Footer"
    	});
    		
	
		
        
            $('#purchase_tab_auctions').dropdownmenu();
            $('.tabs .edp_onsale_linkout').click(function(){
                new CookieTree('_E').set('mode',[$(this).attr("data-event"),$(this).attr("data-type")]);
            });  
        
	});
//]]>
</script>
<script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/internal_core/internal_core.js"></script><script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/internal_core/internal_core_ui.js"></script>
<script charset="utf-8" type="text/javascript">
//<![CDATA[
	var RR_UTILS = {};

	(function () {
		var _cache = {
			rrsid: null
		};

		RR_UTILS.getSessionId = function () {
			if (!_cache.rrsid) {
				var sid = GetCookie("SID") || (Math.random() + 1).toString(36).substr(2);
				_cache.rrsid = GetCookie("RRSID");
				
				if ( !(_cache.rrsid && _cache.rrsid == sid )) {
					document.cookie = "RRSID=" + escape (_cache.rrsid = sid) + ";path=/;domain=.ticketmaster.com;"; 
				}
			}

			return _cache.rrsid;
		};
	})();

        RichRelevance =  {};

        RichRelevance.trackItemView = function (pid) {
                  var ts = (new Date).getTime(),
                            rrTrackImg = new Image(),
                            s = RR_UTILS.getSessionId(),
                            u = GetCookie("MID_MD5") || s;
                            rrTrackImg.src = window.location.protocol + '//recs.richrelevance.com/rrserver/p13n_generated.js' + "?a=421363196daa3779&ts=" + ts + "&p=" + pid + "&pt=%7Citem_page&u=" + u + "&s=" + s + "&l=1";
        };

//]]>
</script>	

	<script>

        RichRelevance.apiLoaded = jQuery.Deferred();
        RichRelevance.searchDone = jQuery.Deferred();

        window.rr_search_init = function(data){
            RichRelevance.search_data = data;
            RichRelevance.searchDone.resolve();
        }

        RichRelevance.searchThrow = jQuery.when(RichRelevance.apiLoaded, RichRelevance.searchDone).then(function(){
            RR.sendSearchData(RichRelevance.search_data);
        });

        RichRelevance.isWallpaper = false;

        RichRelevance.wallpaperInit = function(bool){
            if(!RichRelevance.wallpaperResponded.isResolved()){
                RichRelevance.isWallpaper = bool;
                RichRelevance.wallpaperResponded.resolve();
            }
        };

        RichRelevance.wallpaperResponded = jQuery.Deferred();

	</script>

<script type="text/javascript">
var tm_omn_account="tm-USprod,tm-combinedUSprod";
var isReviews = "";
var omn_domain_owner = "TM_US:";
var tm_omni_temp = $H();
var modules_avail_per_page = $A();
var market_id = GetCookie('MARKET_ID') ? GetCookie('MARKET_ID') : '46';
tm_omni_temp.set('is_s_doPlugins_fired', false);
tm_omni_temp.set('omnVID','');
tm_omni_temp.set('omnAID','');
tm_omni_temp.set('omnEID','01004B6CEF36F72D');
tm_omni_temp.set('omnMID','TM_US: ' + market_id);


var omniCustomClick = Class.create({
  initialize: function(initialData) {
    this.data = Object.extend({}, initialData);
  },

  handleClick: function(event) {
    $H(this.data).each(function(d){
        tm_omn[d.key] = d.value;
      });
       switch(newPage){
         case true:
                 tm_omn.t();
                 tm_omn.getPreviousValue(tm_omn.pageName,'gpv','');
         break;
         case false:
           tm_omn.tl(true,'o',clickLink);
         break;
      }
        if(tm_omni_temp.get('location_path')){
           if(newWindow == true){
               window.open(tm_omni_temp.get('location_path'),'_blank');
           }else{
               self.location.replace(tm_omni_temp.get('location_path'));
           }
            tm_omni_temp.unset('location_path');
            return false;
        }
        return true;
  },
  module_link: function(clickmod,inclusiveLink,tracking_vars){
         this.data = Object.extend({},{
                    linkTrackVars: 'events,eVar13,prop14,eVar14',
                  linkTrackEvents: 'event13',
                           events: 'event13',
                           prop14: 'TM_US: ' + clickmod,
                           eVar14: 'TM_US: ' + clickmod,
                           eVar13: 'TM_US: ' + clickmod
                  },
                 clickLink = clickmod,
                   newPage = false
                  );
      if(inclusiveLink){
         this.data.prop14 = "";
         this.data.linkTrackVars = this.data.linkTrackVars.gsub(/,prop14,eVar14/,"");
       }

      tracking_vars = tracking_vars || {};
      for ( var tv in tracking_vars ) {
          this.data[tv] = tracking_vars[tv];
          this.data.linkTrackVars += ',' + tv;
      }

      this.handleClick();
     },
    navigation_link2: function( clicklink, options ){
        options = Object.extend( {
            np: false,
            newWin: false,
            tracking_vars: {}
        }, options );

        this.data = Object.extend({},{
            linkTrackVars: 'prop14,eVar14',
            linkTrackEvents: 'event27',
            prop14: 'TM_US: ' + clicklink,
            eVar14: 'TM_US: ' + clicklink
        },
            clickLink = clicklink,
            newPage = options.np,
            newWindow  = options.newWin
        );

        for ( var tv in options.tracking_vars ) {
            this.data[tv] = options.tracking_vars[tv];
            this.data.linkTrackVars += ',' + tv;
        }

        tm_omni_temp.set('location_path',options.nav_url);
        this.handleClick();
    },
  navigation_link: function(clicklink,np,nav_url,newWin){
         if(!np){np= false;}
         if(newWin != false){newWin = true;}
         this.data = Object.extend({},{
                   linkTrackVars: 'prop14,eVar14',
                   linkTrackEvents: 'event27',
                          prop14: 'TM_US: ' + clicklink,
                          eVar14: 'TM_US: ' + clicklink
                  },
                 clickLink = clicklink,
                   newPage = np,
                newWindow  = newWin
                  );
      tm_omni_temp.set('location_path',nav_url);
      this.handleClick();
     },
 trackomni_favoriteshare: function(lTV,lTE,clicklink){
         count = 0;
         $A(lTV).each(function(d){
            tm_omn[d] = (d=='products' ? ';' : '' ) + lTE[count];
            count++
         });
         this.data = Object.extend({},{
                   linkTrackVars: 'prop14,eVar14,' + lTV.join(','),
                 linkTrackEvents: lTE.join(','),
                          prop14: 'TM_US: ' + clicklink,
                          eVar14: 'TM_US: ' + clicklink
                  },
                 clickLink = clicklink,
                   newPage = false
                  );

        if(!tm_omni_temp.get('shareclickSet')){
           this.handleClick();
           tm_omni_temp.set('shareclickSet','1');
           setTimeout("tm_omni_temp.unset('shareclickSet')",1500);
         }

 }
});
var omniTracking = new omniCustomClick();


TMDebug = {
    gen_tlog: function() {
        return function(){};
    }
};
</script>
<!-- TM_CUSTOM_SCRIPT -->
    <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/prototype/builder.js"></script>
    <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/prototype/effects.js"></script>
    <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/prototype/dragdrop.js"></script>
    <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/prototype/controls.js"></script>
    <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/prototype/slider.js"></script>
    <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/carousel.js"></script>
<script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/prototype/tm/popup.js"></script>








<script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/global.js"></script>


<script type="text/javascript">

;(function( $, window, document, undefined ) {
createNamespace('TM.Tracking.satellite');

TM.Tracking.satellite = function(){
  var taggingData = {"pageLevelData":{"pageType":"EDP: Event No Longer Exist","language":"en-us","searchStatus":"","channel":"EDP","suggestTerm":"","domain":"us","searchTerm":"","pageDetail":"TM_US: EDP: Event No Longer Exist"},"venueData":{"country":"","zip":"","city":"","vid":"","stateRegion":"","name":0},"mergedData":{"changeset":"0","loaded":{},"dataset":{}},"purchaseData":{"ticketQuantity":"","insurance":"","taxTotal":"","upsellTotal":"","deliveryTotal":"","orderTotal":"","ticketTotal":"","feesTotal":"","orderID":"","products":""},"eventData":{"time":"","date":"","name":"Event No Longer Exist","type":"","eid":"01004B6CEF36F72D"},"callbacks":{},"artistData":{"aid":"","majorCategory":{"name":"","id":""},"primaryName":"Event No Longer Exist","minorCateogry":{"name":"","id":""},"organization":"TM"},"sessionData":{"marketID":({'object':1}[typeof tm_omni_temp]) ? tm_omni_temp.get('omnMID') : '',"sid":GetCookie('SID') ? GetCookie('SID') : '',"mid":GetCookie('MID') ? GetCookie('MID') : '',"bid":GetCookie('BID') ? GetCookie('BID') : '',"promotionID":"","brand":"none","promoterID":""}};
  return {
    data : taggingData
  }
}();
window.digitalData = {"page":{"pageInfo":{"onsiteSearchTerm":"","referringURL":document.referrer,"hostSystem":"","pageType":"EDP: Event No Longer Exist","onsiteSearchSuggestTerm":"","language":"en-us","promotionID":"","geoRegion":"us","promoterID":"","onsiteSearchStatus":"","pageID":"TM_US: EDP: Event No Longer Exist","pageName":"TM_US: EDP: Event No Longer Exist","destinationURL":document.location.href,"sysEnv":"desktop","pageChannel":"EDP"},"category":{"primaryCategory":"","primaryCategoryID":"","subCategory1":"","subCategory1ID":"","organization":"TM"},"attributes":{"country":"","venueID":"","eventID":"01004B6CEF36F72D","artistName":"Event No Longer Exist","eventTime":"","brand":"none","eventResaleEligible":0,"modulesAvailable":"Fy","state":"","artistID":"","zip":"","city":"","eventName":0,"venueName":0,"eventDate":""}},"version":".1","user":[],"pageInstanceID":"TM_US: EDP: Event No Longer Exist","event":[]};
})(jQuery, window, document );
</script>    <!-- Optimizely script start -->
    <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/OptimizelyFn.js"></script>
    <script type="text/javascript" src="//cdn.optimizely.com/js/589110604.js"></script>
    <!-- Optimizely script end -->
<script src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/metrics/metricscollection.js"></script>
<script type="text/javascript">
TM.MetricsCollection.timings.initializeMetrics(
     {
         APP: {
             percent: 1,
             require: {
                 origin: 'DLXWD5a_L47LxtW2qftGBdUuSLO5tajgeDTwLFzXaqrZn22NRPUQIbj2AFWgYS4X97Bqx0z-1LPrZFGMHXuj',
                 page: 'event'
             }
         },
         url: "http://www.ticketmaster.com"
     }
);
</script>
<script type="text/javascript"></script>



    <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/facebook/tmfb.js"></script>








    
    <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/libs/jquery/plugins/jquery.jscrollpane.min.js"></script>
    
    <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/libs/jquery/plugins/jquery.mousewheel.js"></script>




        <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/prototype/tm/module.js"></script>
        <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/recaptcha_ajax.js"></script>        <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/mootools/mootools.js"></script>
        <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/prototype/tm/sajax.js"></script>
        <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/checkout/cart_dialogs.js"></script>
        <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/checkout/polling.js"></script>
        <script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/checkout/delivery.js"></script>

<script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/base64.js"></script>

<script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/unicode.js"></script>



<script type="text/javascript">
//<![CDATA[

    var cartCookie = TMCookie.get( 'CART' );
    var cart_save_fail = TMCookie.get( 'CART_SAVE_FAIL' );
    var ntf = TMCookie.get( 'NTF' );
    var cookie_ada = TMCookie.get( 'ADA' ); 

    var tree = new CookieTree( '_E' );
    
        var flags = tree.get( 'flags' ) || {};
    

    if ( cookie_ada ) {
        flags.ada = cookie_ada
    }
    if ( cartCookie ) {
        flags.cart = cartCookie;
    }
    if ( cart_save_fail ) {
        flags.cart_save_fail = cart_save_fail;
    }
    if ( ntf ) {
        flags.ntf = ntf;
    }
    tree.set( 'flags', flags );

    

    window.js_cookie_domain = "ticketmaster.com";

    TMCookie.remove( 'CART', { domain: js_cookie_domain } );
    TMCookie.remove( 'CART_SAVE_FAIL', { domain: js_cookie_domain } );
    TMCookie.remove( 'NTF', { domain: js_cookie_domain } );
//]]>
</script>
<script type="text/javascript">
//<![CDATA[
    var extraWT = new Array();
//]]>
</script>
<script type="text/javascript">
//<![CDATA[

// <!--
// This code below extracts the contents of the
// location.search and conveniently seperates
// the name and value into a usable form.
// Don't alter this code.
//  -->
function replace(str, from, to) {
    var i = str.indexOf(from);
    if (!from || !str || i == -1) return str;
    var newstr = str.substring(0, i) + to;
    if (i+from.length < str.length)
        newstr += replace(str.substring(
        i+from.length,str.length),from,to);
    return newstr;
}
function getQry(nm)
{
    if (!location.search) return '';
    var i, j, qry;
    qry = location.search.substring(1);
    i = qry.indexOf(nm)+nm.length+1;
    if (i == nm.length) return '';
    j = qry.indexOf('&',i);
    if (j+1) qry = qry.substring(i,j);
    else     qry = qry.substring(i);
    return unescape(replace(qry, '+', ' '));
}

function substitute(str, from, to) {
    var i = str.indexOf(from);
    if (!from || !str || i == -1) return str;
    var newstr = str.substring(0, i);
    if (i+from.length < str.length)
        newstr += replace(str.substring(
        i+from.length,str.length),from);
    return newstr;

}
function convert(nm)
{
    if (!location.search) return '';
    var i, j, qry;
    qry = location.search.substring(1);
    i = qry.indexOf(nm)+nm.length+1;
    if (i == nm.length) return '';
    j = qry.indexOf('&',i);
    if (j+1) qry = qry.substring(i,j);
    else     qry = qry.substring(i);
    return unescape(substitute(qry, '+'));
}


function gener_seatven(x,y){
var newx;
var cssval=aolcsscheck();
  if (getQry('style') || cssval) {
    newVal=(cssval) ? cssval : getQry('style');
    newx = x + "?style=" +  newVal;
  }
  else {
    newx = x;
  }
     windowabandon = window.open(newx,y,'width=800,height=600,toolbar=0,location=0,directories=0,status=0,scrollbars=1,menubar=0,resizable=1');
}
function aolcsscheck(){
  var aolcss = new Array ('aolboxoffice','aolsvcboxoffice','aolsvcsportsbox','aolsvcmusicbox','africanaboxoffice','nsboxoffice');
  for(y=0;y < aolcss.length;y++){
      if(document.URL.indexOf('brand='+aolcss[y])!=-1){return aolcss[y];}
      }
  return false;
}

function grabUrl() {
   var ticketPath = "http://media.ticketmaster.com/tm/en-us/img/sys/exchange/"
   TMObject(mName).SetVariable("serverUrl", ticketPath);

   var tmPath = "http://www.ticketmaster.com/"
   TMObject(mName).SetVariable("tmUrl", tmPath);

}

function starRatingDisplay(rating) {
    var star_rating = (rating - parseInt(rating)).toFixed(1);    var offset;
    switch (star_rating) {
        case "0.1":       
             if(parseInt(rating) == 0 || parseInt(rating) == 1){
                 offset = 0;
             }  
             else{
                 offset = 1 - parseInt(rating); 
             }      
             break
        case "0.2": case "0.3":
             offset = 7;           
             break
        case "0.4": case "0.5": case "0.6":
             offset = 8;       
             break
        case "0.7": case "0.8":
             offset = 9;
             break
        case "0.9":
             if(parseInt(rating) == 0 ){
                 offset = 15;
             }
             else if(parseInt(rating) == 4 ){
                 offset = 14;
             }    
             else{
                 offset = 15 - parseInt(rating);
             }                  
             break
        default: 
             if(parseInt(rating) == 1 ){
                 offset = 0;
             }
             else if(parseInt(rating) == 5 ){
                 offset = -1;
             }         
             else{
                 offset = 1 - parseInt(rating);
             }
             break
     }
    var final_display_percent = ( parseInt(rating) * 15 +  offset ) + "px";
    return final_display_percent;
 }

//////////////////////////////////////////////////////////////////////////
// Change Location JS for Top Nav and Browse Box
//////////////////////////////////////////////////////////////////////////
    var reg_ex = new RegExp("&eacute;","g");
    var replaceItem = '\u00E9';

var location_text = 'Enter City or Zip Code';
location_text = location_text.replace(reg_ex,replaceItem);

var page_context_uri = "WaI-oYrwOLG3VXxTDLSv6GXqr3iNXwqTEUM73csoD6gLi3XgPv2J-LXvbvRCAw2SxIs2btTrf56GRrp61m2Ya-YlT-Lp4Kj5b1E8rZMdyT3EhzQgAaKAIJonZGDZ0dKlR4FO92ocFoK1ePrI--9oGta1OKRtN7hWBeEU";


            

            Discrete.setup();
            ISCLanding.setup();

//]]>
</script>

<script type="text/javascript">
//////////////////////////////////////////////////////////////////////////
// Search Suggest JS for Search Box
//////////////////////////////////////////////////////////////////////////
var global = new Hash();
var search_suggest = null;global.set('cancel_hide', 0);
global.set('opens_in_a_new_window', 'opens in a new window'); // for shoppinglist and all of the situation that need to use the string 'opens in a new window'. 
var KEY = {
            UP: 38,
            DOWN: 40,
            ESC: 27,
            ENTER: 13
    };

Ajax.Request.prototype.abort = function() {
    this.transport.onreadystatechange = Prototype.emptyFunction;
    this.transport.abort();
    Ajax.activeRequestCount--;
};

String.prototype.decodeSuggestItem=function() {
    return this.replace(/\&amp\;/g, '\&').replace(/\&gt\;/g, '\>').replace(/\&lt\;/g, '\<').replace(/\&quot\;/g, '\'').replace(/\&\#39\;/g, '\'');
};

String.prototype.encodeSearchTerm=function(){
    return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&#34;").replace(/\'/g,"&#39;");
};

var SearchSuggest = Class.create({
    initialize: function() {
        this.index = 0;
        this.keyword = '';
        this.event = null;
        this.length = 0;
        this.elements = null;
        this.reset();
    },
    reset: function() {
        this.index = -1;
        var suggest = $("search-suggest") || $("searchSuggest");
        suggest.hide();
        $("searchSuggest-result").update('');
        this.elements = null;
        $('search_id').name = "";
        $('search_id').value = "";
    },
    buildTable: function(data) {
        this.reset();
        var suggest_ul = $("searchSuggest-result");
        var _parent = this;
        for( var i=0; i < 10 && i < data.length; i++ ) {
            var search_type = data[i].VenueId ? "vid" : "aid";
            var search_id = data[i].AttractionId ? data[i].AttractionId[0] : data[i].VenueId;
            var item_name = data[i].Autocomplete;
            var li = new Element('li', {"li_index":i, "searchType":search_type, "searchId":search_id, "itemName":item_name});
            Event.observe(li, 'mouseover', function() {
                global.set('cancel_hide', 1);
                _parent.updateTable(this);
            });
            Event.observe(li, 'mouseout', function(e) {
                global.set('cancel_hide', 0);
                this.className = "";
            });
            Event.observe(li, 'click', function(e) {
                e.stop();
                _parent.updateHiddenId(this);
                $('search_form').submit();
            });
            var event_count = data[i].UpcomingEvents + " events";
            var follow_span = new Element('span', {"class":"suggest-cat"});
            if ( data[i].VenueId ) {
                var venue_follow_str = data[i].CityState;
                    venue_follow_str = venue_follow_str + " - " + event_count;                follow_span.innerHTML = "&nbsp;(" + venue_follow_str + ")";
            }
            else {
                var major_cate = data[i].MainMajorGenre;
                var minor_cate = data[i].MainMinorGenre;
                var major_id = data[i].MajorGenreId[0];
                var arr_str = new Array();
                var tmp_str;
                //control Search Suggest display by combination of Domian & Major Cat
                switch (major_id) {
                    //music
                    case 10001 : 
                        arr_str.push(major_cate);
                        arr_str.push(minor_cate);
                        arr_str.push(event_count);                        break;
                    //art&theater
                    case 10002 :
                        arr_str.push(major_cate);
                        arr_str.push(minor_cate);
                        arr_str.push(event_count);                        break;
                    //family
                    case 10003 :
                        arr_str.push(major_cate);
                        arr_str.push(minor_cate);
                        arr_str.push(event_count);                        break;
                    //sports
                    case 10004 :             
                        arr_str.push(major_cate);
                        arr_str.push(minor_cate);
                        arr_str.push(event_count);                        break;
                    default :
                        break; 
                }

                if ( arr_str.length > 0) {
                    tmp_str = arr_str.join(" - ");
                    follow_span.innerHTML = "&nbsp;(" + tmp_str + ")";
                }
            }
            var a = new Element('a');
            a.innerHTML = data[i].AutocompleteHighlight;
            a.appendChild(follow_span);
            li.appendChild(a);
            suggest_ul.insert(li);
        }
        var suggest = $("search-suggest") || $("searchSuggest");
        suggest.show();
        Event.observe(suggest, 'mouseout', function(e) {
            this.index = -1;
        });
        this.elements = $$("#searchSuggest-result li");
        this.length = this.elements.length;
    },
    getData: function() {
        var _parent = this;
        var opt = {
            method: "get",
            onSuccess: function(t) {
                var data = t.responseText.evalJSON(true);
                var suggest = $("search-suggest") || $("searchSuggest");
                suggest.hide();
                if(data.response.docs.length > 0) {
                    _parent.buildTable(data.response.docs);
                }
            },
            onFailure: function() {
                alert("An error occurred, please try again later.");
            }
        };
        var prev_ajax = global.get('myajax');
        if ( prev_ajax ) {
            prev_ajax.abort();
        }
        var requestURL = 'http://www.ticketmaster.com/json/search/suggest?q=' + encodeURIComponent(this.keyword) ;
        var curr_ajax = new Ajax.Request(requestURL, opt);
        global.set('myajax', curr_ajax);
    },
    updateTable: function(li) {
        if ( this.index >= 0 ) {
            this.elements[this.index].className = "";
        }
        li.className = "selected";
        this.index = li.getAttribute('li_index');
    },
    updateHiddenId: function(li) {
        var search_type = li.getAttribute('searchType');
        var search_id = li.getAttribute('searchId');
        var item_name = li.getAttribute('itemName');
        $("search_input").value = item_name.decodeSuggestItem();
        $('search_id').name = search_type;
        $('search_id').value = search_id;
    },
    autoComplete: function(keyword) {
        this.keyword = keyword;
        this.getData();
    },
    prev: function() {
        if ( this.elements ) {
            if ( this.index > 0 ) {
                this.elements[this.index].className = "";
                this.index--;
                this.elements[this.index].className = "selected";
                this.updateHiddenId(this.elements[this.index]);
            }
            else {
                this.index = -1;
                initHiddenParam();
                this.elements[0].className = "";
                $("search_input").value = $("org_input").value;
            }
        }
    },
    next: function() {
        if ( this.elements ) {
            if ( this.index >= 0 ) {
                this.elements[this.index].className = "";
            }
            this.index = (++this.index) % this.length;
            this.elements[this.index].className = "selected";
            this.updateHiddenId(this.elements[this.index]);
        }
    }
})

function showSuggestions() {
    var event = arguments[0] || event;
    var keyword = $("search_input").value;
    if ( keyword.length < 3 ) {
            $("org_input").value = keyword;
            var suggestion = $("searchSuggest") || $("search-suggest") || $("search-suggest");
            suggestion.hide();
            var exist_ajax = global.get('myajax');
            if ( exist_ajax ) {
                exist_ajax.abort();
            }
    }
    else {
        switch (event.keyCode) {
                case KEY.UP:
                    search_suggest.prev();
                    break;
                case KEY.DOWN:
                    search_suggest.next();
                    break;
                case KEY.ESC:
                    search_suggest.reset();
                    $("search_input").value = $("org_input").value;
                    break;
                case KEY.ENTER:
                    break;
                default:
                    $("org_input").value = keyword;
                    sendRequest.delay("0.1", keyword);
                    break;
        }
    }
}
</script>

<script type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/search_suggest_fns.js"></script>



<script type="text/javascript">
createNamespace('TM.Ads');
TM.Ads.iframeAssets = TM.Ads.iframeAssets || [];
</script>

<script type="text/javascript">
    if(typeof TM != "undefined" && TM.config) {
        TM.config.media_server = "http://media.ticketmaster.com/tm/en-us";
    }
</script>



<link href="http://media.ticketmaster.com/en-us/css/16f6f2591dfb9f750dffeb5cc13a5b45/tm/default.css" rel="stylesheet" type="text/css" />
    <link href="http://media.ticketmaster.com/en-us/css/16f6f2591dfb9f750dffeb5cc13a5b45/tm/header.css" rel="stylesheet" type="text/css" />

<!--[if lte IE 7]><link rel="stylesheet" type="text/css" href="http://media.ticketmaster.com/en-us/css/16f6f2591dfb9f750dffeb5cc13a5b45/tm/lte_ie7_exceptions.css" /><![endif]-->
<!--[if lte IE 8]><link rel="stylesheet" type="text/css" href="http://media.ticketmaster.com/en-us/css/16f6f2591dfb9f750dffeb5cc13a5b45/tm/lte_ie8_exceptions.css" /><![endif]-->
<!--[if IE ]><link rel="stylesheet" type="text/css" href="http://media.ticketmaster.com/en-us/css/16f6f2591dfb9f750dffeb5cc13a5b45/tm/ie_exceptions.css" /><![endif]-->



        <link href="http://media.ticketmaster.com/en-us/css/16f6f2591dfb9f750dffeb5cc13a5b45/tm/facebook-plugin.css" rel="stylesheet" type="text/css" />

  <link href="http://media.ticketmaster.com/en-us/css/16f6f2591dfb9f750dffeb5cc13a5b45/tm/tabs.css" rel="stylesheet" type="text/css" />



        <link href="http://media.ticketmaster.com/en-us/css/16f6f2591dfb9f750dffeb5cc13a5b45/tm/edp.css" rel="stylesheet" type="text/css" />

      <link href="http://media.ticketmaster.com/en-us/css/16f6f2591dfb9f750dffeb5cc13a5b45/tm/widget.css" rel="stylesheet" type="text/css" />
    <link href="http://media.ticketmaster.com/en-us/css/16f6f2591dfb9f750dffeb5cc13a5b45/tm/seatingchart.css" rel="stylesheet" type="text/css" />
    <link href="http://media.ticketmaster.com/en-us/css/16f6f2591dfb9f750dffeb5cc13a5b45/tm/lightbox.css" rel="stylesheet" type="text/css" />


<link href="http://media.ticketmaster.com/en-us/css/16f6f2591dfb9f750dffeb5cc13a5b45/tm/carousel.css" rel="stylesheet" type="text/css" />
<link href="http://media.ticketmaster.com/en-us/css/16f6f2591dfb9f750dffeb5cc13a5b45/tm/langoverlay_en-us.css" rel="stylesheet" type="text/css" />

















<!--[if IE]>
<style>
.ie_has_layout {
    height: 0;
    he\ight: auto;
    zoom: 1;
}
#locBox {
    zoom:1;
    filter:progid:DXImageTransform.Microsoft.Shadow(color='#000000',direction='120',strength='5');
}
#seeEvents .ie_has_layout { display:inline-block; height:21px }
</style>
<![endif]-->
<!--[if IE]>
<style>
.search-module .checkbox-list { padding-right: 20px; }
.search-module .checkbox-list .details { width: auto; }
#cat-browse td.widget-fix { vertical-align:top }
#cat-browse .widget-frame,
#seeEvents .widget-frame { margin-top: 0; }
</style>
<![endif]-->


<script type="text/javascript">
var _satellite = {
  "override": {
    "host": {
      "http": "media.ticketmaster.com/en-us/js/satellite",
      "https": "media.ticketmaster.com/en-us/js/satellite"
    }
  }
};
</script>
<script src="http://media.ticketmaster.com/en-us/js/satellite/bbc5bbf56a4c9cda1271b6b9cb3e94744124c05b/satelliteLib-df472949e8a036d72570b7a081d946474e1d4d29.js"></script>




<script type="text/javascript">
    if (writeCapture) {
        writeCapture.autoAsync();
    }
</script>        <script type='text/javascript'>
            googletag.cmd.push(function() {

            //enable async
                //googletag.pubads().enableSingleRequest();
                googletag.pubads().enableAsyncRendering();
                googletag.pubads().collapseEmptyDivs();

            //Set targeting for all ad slots
                googletag.pubads().setTargeting("dmaid","346")
                        .setTargeting("lang","en-us")
                        .setTargeting("page","event")
                        .setTargeting("brand","0")
                        .setTargeting("majorcatid","0")                        .setTargeting("minorcatid","0")                        .setTargeting("artistid","0")                        .setTargeting("venueid","0")                        .setTargeting("promoter","0")                        .setTargeting("eventid","0")                        .setTargeting("secondary","0")                    ;

                googletag.defineSlot('/6025/us/0/0/event', [171, 30], 'div-gpt-edp-ad-slot-3006')
                    .addService(googletag.pubads())
                    .setTargeting("pagepos", "3006");

                googletag.defineSlot('/6025/us/0/0/event', [171, 30], 'div-gpt-edp-ad-slot-3005')
                    .addService(googletag.pubads())
                    .setTargeting("pagepos", "3005");

                googletag.pubads().addEventListener('slotRenderEnded', function(event) {
                    jQuery("div.gpt-ad-container iframe").attr("title","Advertisement content");
                });
                googletag.enableServices();
            });

        </script>
</head>
<body id="body" class="" 
>

<noscript>
    <div style="baCkground-color:#FFF3D2; border-bottom:1px solid #E4D199; margin-bottom:15px; padding:10px;" align="center">
    You must set your browser to <a href="http://www.ticketmaster.com/h/cookies.html">accept cookies</a> and to <a href="http://www.ticketmaster.com/h/javascript.html">enable Javascript</a> in order to access certain functions of this site, including the purchase of tickets.
    </div>
</noscript>
<!-- NFB NOTE: Add order phone number -->
<div class="hideContent">To order tickets by phone, please call Ticketmaster National Sales at 1-800-745-3000. </div>    <!-- NFB Skip to search and main content  -->
    <div class="frame"><a href="#mainContent" id="skip_nav_link" class="nfbSkipLink in-page-link"><span>Skip to main content</span></a></div><div class="lightbox-shade"></div>

<!-- Rich Relevance Integration begin -->
<style type="text/css">

/* scroll controls - based on resale posting but modified for recs */
.rr-pagination-arrow {
  border: 0;
  background-color: transparent;
  width: 49px;
  height: 108px;
  background-image: url("http://media.ticketmaster.com/tm/en-us/img/sys/rr/nav-arrows-sprite.png");
  background-repeat: no-repeat;
  cursor: pointer;
  position: absolute;
  top: 0;
  z-index: 10;
}

.rr-pagination-nav-left {
  left: -8px;
  background-position: 0 -108px;
}
.rr-pagination-nav-right {
  right: -8px;
  background-position: 0 -324px;
}

/* side module used on the TM-UK */

#side-module-wrap{
  height: 0px;
  text-align: right;
}

.side-module {
  text-align: left;
  margin-right: -120px;
  width: 115px;
  background: #fff;
  z-index: 101;
}

.side-group {
  padding: 10px;
}
.side-group + .side-group {
  border-top: 1px solid #000;
}
.side-header {
  color: #414141;
  font-size: 14px;
  font-weight: normal;
  margin-bottom: 8px;
}
.side-group .rec-artist-img {
  width: 80px;
  height: 45px;
}

.rec-artist-img{
  width: 122px;
  height: 90px;
  margin-bottom: 4px;
}

/* basic recommendation styling of text */
.recs-header {
  margin-bottom: 10px;
  font-weight: normal;
  color: #414141;
}
.recs-module {
  padding-bottom: 20px;
}
.recs-module > h2 {
  font-weight: normal;
}
.recs {
  position: relative;
  overflow: hidden;
}

#artistPlacement .rec-title {
 width: 100px;
}

.rec-text {
  display: block;
  margin-bottom: 4px;
}
.rec-title {
  font-weight: bold;
}
.rec-rating {
  margin-left:-2px;
  margin-bottom: 8px;
  margin-right: 0.5em;
}
#rv_list{
  margin-top: 15px;
}

.rec-text.rec-rating {
  background : url('http://media.ticketmaster.com/tm/en-us/img/sys/1000/stars.png') repeat-x 1px -13px;
  height : 13px;
  display : block;
  width :74px;
}

.rec-text.rec-rating span {
  background : url('http://media.ticketmaster.com/tm/en-us/img/sys/1000/stars.png') repeat-x 1px 0px;
  height : 13px;
  display : block;
  overflow:hidden;
  text-indent: -9999px;
}

/* for scrolling recs */
.recs-scrolling .rec-list {
  width: 4000px;   /* used as default, but will be modified by js */
}
.recs-scrolling .rec-item + .rec-item {
  margin-left: 15px;
}
.recs-scrolling .rr-no-arrows .rec-item + .rec-item {
  margin-left: 30px;
}

.recs-scrolling .rec-item {
  float: left;
  width: 122px;
}
.recs-fader {
  width: 35px;
  background: url('http://media.ticketmaster.com/tm/en-us/img/sys/rr/fader.png') repeat-y right top;
  display: block;
  position: absolute;
  right: 0;
  top: 0;
  height: 100%;
  z-index:1;
}

/* for side module recs */
.side-group .rec-item {
  width: 95px;
}
.side-group .rec-artist-img {
  width: 80px;
}
.side-group .rec-item + .rec-item {
  border-top: 1px solid #e0e0e0;
  margin-top: 5px;
  padding-top: 10px;
}

/* for positioning the recs in particular contexts */
#myAccountPlacement > .top-selling, #rc_reserved > .top-selling, #browse-placement > .top-selling{
    background: none;
}

#placement3{
    overflow: hidden;
    background: #efefef;
}

#rr-rvText{
    width: 219px;
    padding: 20px 40px 20px 10px;
    float: left;
    line-height: 16px;
    height: auto;
    min-height: 145px;
    overflow: visible;
    border: 0;
}

#rr-rvText + .recs-module{
    width: 730px;
    float: left;
    border-left: 1px solid #fff;
}

#rr-rvText .recMainInfo {
  line-height: 18px;
  width: 109px;
}

#rr-rvText a:hover .recMainInfo,
#myLnPlacement a:hover .alter-rec-view {
  text-decoration: underline;
}

.recs-container{
    position: relative;
}

.top-selling {
  background: #efefef;
}
.top-selling.split-view {
  float: left;
  width: 730px;
  border-left: 1px solid #fff;
  padding-bottom: 20px;
}
.top-selling.split-view .recs-module {
  padding-bottom: 0;
}
.recommended-events .recs-module {
  padding-bottom: 30px;
}
.top-selling .recs-header,
.recommended-events .recs-header {
  padding-top: 20px;
  margin-left: 15px;
}
.top-selling .rec-item:first-child,
.recommended-events .rec-item:first-child {
  margin-left: 15px;
}

/* phase2 stuff */
.recs-wrapped {
  background: #efefef;
  border: 1px solid #ccc;
  padding: 5px 0 10px;
  box-shadow: 0px 0px 3px #fff inset, -1px 1px 5px rgba(0,0,0,0.15);
}
.recs-wrapped {
  margin-bottom: 20px;
}
.recs-wrapped .recs-header {
  padding-top: 5px;
  margin-left: 15px;
}
.recs-wrapped .rec-item:first-child {
  margin-left: 15px;
}
.recs-wrapped .add-to-faves {
  float: left;
}

/* favorites button */
.fave {
  width: 17px;
  height: 14px;
  background: url("http://media.ticketmaster.com/tm/en-us/img/sys/rr/hearts-sprite.png") no-repeat 0 0px;
  border: 0;
  cursor: pointer;
  overflow: hidden;
  text-indent: -9999px;
}
.fave:hover {
  background-position: 0 -14px;
}
.fave.added {
  background-position: 0 -28px !important;
}

/* recently viewed hp module */
.recent {
  background: #e8e8e8;
}
.recent .hr {
  border: 0;
  border-top: 1px solid #ccc;
  margin: 0;
  padding: 0;
  clear: both;
}
.recent-main {
  font-weight: bold;
}
.recent-main a:first-child img {
  width: 80px;
  margin: 0 10px 0 0;
}
.recent ul {
  margin: 10px 0 0;
  padding: 0;
  list-style: none;
}
.recent li {
  font-weight: bold;
  display: inline;
}

div.recent > p{
  margin: 11px 0;
}

#image_insert{
  display: inline;
}

.recMainImg{
  width: 100px;
  height: 56px;
  margin-right: 10px;
}

.margin-bottom-10{
  margin-bottom: 10px;
}

#categoryPlacement > .top-selling{
  background: none;
}

#rc_reserved .rec-list:first-child{
  padding-left: 0px;
}

.ts-wrapper{
  position: relative;
  border: 1px solid #ccc;
}

.ts-wrapper > h2{
  position: relative;
  padding: 10px 10px;
  z-index: 1000;
}

#top-sellers-mx div.ts-wrapper > div.ts-grad{
  position: absolute;
  bottom: 0px;
  border: none;
  width: 100%;
  padding: 0;
  height: 39px;
  z-index: 999;
}

.recs-module p{
  margin: 11px 0 0 0;
}

.artist-right-arrow-wrapper{
  position: absolute;  
  right: 0px;
  height: 99.5%;
  width: 29px;
  top:  0px;
  background: #fff;
  z-index:2;
}
.artist-right-arrow-wrapper > div{
 border-left: 1px solid #ccc;
 height: 85%; margin: 20% 0 20%;
}

.artist-right-arrow-wrapper > div > .artist-arrow, .artist-left-arrow-wrapper > div > .artist-arrow{
  top: 50%; 
  width: 18px; 
  margin-top: -18px; 
  height: 33px; 
  position: absolute;
  background-image: none;
}

.artist-left-arrow-wrapper > div > .artist-arrow{
  left:3px;
}

.artist-right-arrow-wrapper > div > .artist-arrow{
  right: 3px;
}


.artist-left-arrow-wrapper{
  position: absolute; 
  height: 99.5%;
  width: 29px;
  background: #fff;
  left:0;
}

.artist-left-arrow-wrapper > div{
 border-right: 1px solid #ccc; 
 height: 85%;
 margin: 20% 0 20%;
}

.artist-module{
  width: 538px;
  display: inline-block;
  margin-right: 29px;
  margin-left: 31px;
}

.rr-no-arrows{
  width: auto !important;
  display: inline-block;
  *display: inline;
  zoom:1;
  text-align: left;
}

.alter-rec-view{
  width: 180px;
}

.inline_block_ie7{
  display: inline-block;
  *display: block;
}

#artistPlacement .rec-artist-img{
  width: 100px;
  height: 55px;
}

#artistPlacement  .top-selling .rec-item:first-child {
  margin-left: 10px;
}
</style>

    <script src="//media.richrelevance.com/rrserver/js/1.0/p13n.js"></script>

	<script charset="utf-8" type="text/javascript">
		//<![CDATA[

		RR.moduleNames = {
				RECOMMENDATIONS: "recommendations",
				ARTISTRECOMMENDATIONS: "artistrecommendations",
				BROWSERECOMMENDATIONS: "browserecommendations",
				TOPSELLERS_RIGHTWELL: "topsellers_rightwell",
				YOURECENTLYVIEWED_V1: "yourecentlyviewed_v1",
				FANSVIEWED_V1: "fansviewed_v1",
				YOURECENTLYVIEWED_V2: "yourecentlyviewed_v2",
				FANSVIEWED_V2: "fansviewed_v2",
				YOURECENTLYVIEWED_V3: "yourecentlyviewed_v3",
				FANSVIEWED_V3: "fansviewed_v3"
			};

		(function () {
			/**
			* Line-limits used for recommendation items in following modules:
			* top-sellers; FV v1,v2,v3; YRV v1,v2 and first item in v3.
			* Characted limits used for other recommendation items and for lid-copies.
			*/
			var rr_character_limits = {};
			rr_character_limits[RR.moduleNames.RECOMMENDATIONS] = {
					"undefined":	undefined,
					"myprofile":	{ header:150, items:[ {index:0, value:40} ] },
					"addfavs":	undefined,
					"viewfavs":	undefined,
					"search":	undefined,
					"main":	{ header:105, items:[ {index:0, value:40} ] },
					"category":	{ header:105, items:[ {index:0, value:40} ] },
					"browse":	undefined,
					"venueartist":undefined,
					"artist":	undefined,
					"event":	undefined,
					"resale":	undefined,
					"venue":	undefined,
					"mycart":	undefined,
					"orderconfirmation":	{ header:105, items:[ {index:0, value:40} ] }
				};
			rr_character_limits[RR.moduleNames.ARTISTRECOMMENDATIONS] = {
					"undefined":	undefined,
					"myprofile":	undefined,
					"addfavs":	undefined,
					"viewfavs":	undefined,
					"search":	undefined,
					"main":	undefined,
					"category":	undefined,
					"browse":	undefined,
					"venueartist":	undefined,
					"artist":	{ header:120, items:[ {index:0, value:30} ] },
					"event":	undefined,
					"resale":	undefined,
					"venue":	undefined,
					"mycart":	undefined,
					"orderconfirmation":	undefined
				};
			rr_character_limits[RR.moduleNames.BROWSERECOMMENDATIONS] = {
					"undefined":	undefined,
					"myprofile":	undefined,
					"addfavs":	undefined,
					"viewfavs":	undefined,
					"search":	undefined,
					"main":	undefined,
					"category":	undefined,
					"browse":	{ header:140, items:[ {index:0, value:40} ] },
					"venueartist":	undefined,
					"artist":	undefined,
					"event":	undefined,
					"resale":	undefined,
					"venue":	undefined,
					"mycart":	undefined,
					"orderconfirmation":	undefined
				};
			rr_character_limits[RR.moduleNames.TOPSELLERS_RIGHTWELL] = {
					"undefined":	undefined,
					"myprofile":	undefined,
					"addfavs":	undefined,
					"viewfavs":	undefined,
					"search":	undefined,
					"main":	{ header:60, items:[ {index:0, value:80} ] },
					"category":	{ header:60, items:[ {index:0, value:80} ] },
					"browse":	undefined,
					"venueartist":	undefined,
					"artist":	undefined,
					"event":	undefined,
					"resale":	undefined,
					"venue":	undefined,
					"mycart":	undefined,
					"orderconfirmation":	undefined
				};
			rr_character_limits[RR.moduleNames.YOURECENTLYVIEWED_V1] = {
					"undefined":	undefined,
					"myprofile":	{ header:20, items:[ {index:0, value:40}, {index:1, value:30} ] },
					"addfavs":	undefined,
					"viewfavs":	undefined,
					"search":	{ header:20, items:[ {index:0, value:40}, {index:1, value:30} ] },
					"main":	{ header:20, items:[ {index:0, value:40}, {index:1, value:30} ] },
					"category":	{ header:20, items:[ {index:0, value:40}, {index:1, value:30} ] },
					"browse":	{ header:20, items:[ {index:0, value:40}, {index:1, value:30} ] },
					"venueartist":	undefined,
					"artist":	{ header:20, items:[ {index:0, value:40}, {index:1, value:30} ] },
					"event":	undefined,
					"resale":	undefined,
					"venue":	{ header:20, items:[ {index:0, value:40}, {index:1, value:30} ] },
					"mycart":	{ header:20, items:[ {index:0, value:40}, {index:1, value:30} ] },
					"orderconfirmation":	undefined
				};
			rr_character_limits[RR.moduleNames.FANSVIEWED_V1] = {
					"undefined":	undefined,
					"myprofile":	{ header:43, items:[ {index:0, value:33} ] },
					"addfavs":	undefined,
					"viewfavs":	undefined,
					"search":	{ header:43, items:[ {index:0, value:33} ] },
					"main":	{ header:43, items:[ {index:0, value:33} ] },
					"category":	{ header:43, items:[ {index:0, value:33} ] },
					"browse":	{ header:43, items:[ {index:0, value:33} ] },
					"venueartist":	undefined,
					"artist":	{ header:43, items:[ {index:0, value:33} ] },
					"event":	undefined,
					"resale":	undefined,
					"venue":	{ header:43, items:[ {index:0, value:33} ] },
					"mycart":	{ header:43, items:[ {index:0, value:33} ] },
					"orderconfirmation":	undefined
				};
			rr_character_limits[RR.moduleNames.YOURECENTLYVIEWED_V2] = {
					"undefined":	undefined,
					"myprofile":	{ header:40, items:[ {index:0, value:30} ] },
					"addfavs":	undefined,
					"viewfavs":	undefined,
					"search":	{ header:40, items:[ {index:0, value:30} ] },
					"main":	{ header:40, items:[ {index:0, value:30} ] },
					"category":	{ header:40, items:[ {index:0, value:30} ] },
					"browse":	{ header:40, items:[ {index:0, value:30} ] },
					"venueartist":	undefined,
					"artist":	{ header:40, items:[ {index:0, value:30} ] },
					"event":	undefined,
					"resale":	undefined,
					"venue":	{ header:40, items:[ {index:0, value:30} ] },
					"mycart":	{ header:40, items:[ {index:0, value:30} ] },
					"orderconfirmation":	undefined
				};
			rr_character_limits[RR.moduleNames.FANSVIEWED_V2] = {
					"undefined":	undefined,
					"myprofile":	{ header:150, items:[ {index:0, value:30} ] },
					"addfavs":	undefined,
					"viewfavs":	undefined,
					"search":	{ header:150, items:[ {index:0, value:30} ] },
					"main":	{ header:150, items:[ {index:0, value:30} ] },
					"category":	{ header:150, items:[ {index:0, value:30} ] },
					"browse":	{ header:150, items:[ {index:0, value:30} ] },
					"venueartist":	undefined,
					"artist":	{ header:150, items:[ {index:0, value:30} ] },
					"event":	undefined,
					"resale":	undefined,
					"venue":	{ header:150, items:[ {index:0, value:30} ] },
					"mycart":	{ header:150, items:[ {index:0, value:30} ] },
					"orderconfirmation":	undefined
				};
			rr_character_limits[RR.moduleNames.YOURECENTLYVIEWED_V3] = {
					"undefined":	undefined,
					"myprofile":	{ header:30, items:[ {index:0, value:70}, {index:1, value:40} ] },
					"addfavs":	undefined,
					"viewfavs":	undefined,
					"search":	{ header:30, items:[ {index:0, value:70}, {index:1, value:40} ] },
					"main":	{ header:30, items:[ {index:0, value:70}, {index:1, value:40} ] },
					"category":	{ header:30, items:[ {index:0, value:70}, {index:1, value:40} ] },
					"browse":	{ header:30, items:[ {index:0, value:70}, {index:1, value:40} ] },
					"venueartist":	undefined,
					"artist":	{ header:30, items:[ {index:0, value:70}, {index:1, value:40} ] },
					"event":	undefined,
					"resale":	undefined,
					"venue":	{ header:30, items:[ {index:0, value:70}, {index:1, value:40} ] },
					"mycart":	{ header:30, items:[ {index:0, value:70}, {index:1, value:40} ] },
					"orderconfirmation":	undefined
				};
			rr_character_limits[RR.moduleNames.FANSVIEWED_V3] = {
					"undefined":	undefined,
					"myprofile":	{ header:30, items:[ {index:0, value:40} ] },
					"addfavs":	undefined,
					"viewfavs":	undefined,
					"search":	{ header:30, items:[ {index:0, value:40} ] },
					"main":	{ header:30, items:[ {index:0, value:40} ] },
					"category":	{ header:30, items:[ {index:0, value:40} ] },
					"browse":	{ header:30, items:[ {index:0, value:40} ] },
					"venueartist":	undefined,
					"artist":	{ header:30, items:[ {index:0, value:40} ] },
					"event":	undefined,
					"resale":	undefined,
					"venue":	{ header:30, items:[ {index:0, value:40} ] },
					"mycart":	{ header:30, items:[ {index:0, value:40} ] },
					"orderconfirmation":	undefined
				};

			RR.getCharacterLimits = function (module, page) {
				if (!(module in rr_character_limits)) {
					return undefined;
				}
				var module_limits;
				module_limits = rr_character_limits[module];
				if (!(page in module_limits)) {
					return undefined;
				}
				return module_limits[page];
			};

			var rr_collapsing_conditions = {};
			rr_collapsing_conditions[RR.moduleNames.RECOMMENDATIONS] = {
					"undefined":	1,
					"myprofile":	7,
					"addfavs":	1,
					"viewfavs":	1,
					"search":	1,
					"main":	3,
					"category":	3,
					"browse":	5,
					"venueartist":1,
					"artist":	4,
					"event":	1,
					"resale":	1,
					"venue":	1,
					"mycart":	1,
					"orderconfirmation":	3
				};
			rr_collapsing_conditions[RR.moduleNames.ARTISTRECOMMENDATIONS] = {
					"undefined":	1,
					"myprofile":	7,
					"addfavs":	1,
					"viewfavs":	1,
					"search":	1,
					"main":	3,
					"category":	3,
					"browse":	5,
					"venueartist":	1,
					"artist":	4,
					"event":	1,
					"resale":	1,
					"venue":	1,
					"mycart":	1,
					"orderconfirmation":	3
				};
			rr_collapsing_conditions[RR.moduleNames.BROWSERECOMMENDATIONS] = {
					"undefined":	1,
					"myprofile":	7,
					"addfavs":	1,
					"viewfavs":	1,
					"search":	1,
					"main":	3,
					"category":	3,
					"browse":	5,
					"venueartist":	1,
					"artist":	4,
					"event":	1,
					"resale":	1,
					"venue":	1,
					"mycart":	1,
					"orderconfirmation":	3
				};
			rr_collapsing_conditions[RR.moduleNames.TOPSELLERS_RIGHTWELL] = {
					"undefined":	1,
					"myprofile":	1,
					"addfavs":	1,
					"viewfavs":	1,
					"search":	1,
					"main":	1,
					"category":	1,
					"browse":	1,
					"venueartist":	1,
					"artist":	1,
					"event":	1,
					"resale":	1,
					"venue":	1,
					"mycart":	1,
					"orderconfirmation":	1
				};
			rr_collapsing_conditions[RR.moduleNames.YOURECENTLYVIEWED_V1] = {
					"undefined":	0,
					"myprofile":	0,
					"addfavs":	0,
					"viewfavs":	0,
					"search":	0,
					"main":	0,
					"category":	0,
					"browse":	0,
					"venueartist":	0,
					"artist":	0,
					"event":	0,
					"resale":	0,
					"venue":	0,
					"mycart":	0,
					"orderconfirmation":	0
				};
			rr_collapsing_conditions[RR.moduleNames.FANSVIEWED_V1] = {
					"undefined":	5,
					"myprofile":	5,
					"addfavs":	5,
					"viewfavs":	5,
					"search":	5,
					"main":	5,
					"category":	5,
					"browse":	5,
					"venueartist":	5,
					"artist":	5,
					"event":	5,
					"resale":	5,
					"venue":	5,
					"mycart":	5,
					"orderconfirmation":	5
				};
			rr_collapsing_conditions[RR.moduleNames.YOURECENTLYVIEWED_V2] = {
					"undefined":	1,
					"myprofile":	1,
					"addfavs":	1,
					"viewfavs":	1,
					"search":	1,
					"main":	1,
					"category":	1,
					"browse":	1,
					"venueartist":1,
					"artist":	1,
					"event":	1,
					"resale":	1,
					"venue":	1,
					"mycart":	1,
					"orderconfirmation":	1
				};
			rr_collapsing_conditions[RR.moduleNames.FANSVIEWED_V2] = {
					"undefined":	2,
					"myprofile":	2,
					"addfavs":	2,
					"viewfavs":	2,
					"search":	2,
					"main":	2,
					"category":	2,
					"browse":	2,
					"venueartist":	2,
					"artist":	2,
					"event":	2,
					"resale":	2,
					"venue":	2,
					"mycart":	2,
					"orderconfirmation":	2
				};
			rr_collapsing_conditions[RR.moduleNames.YOURECENTLYVIEWED_V3] = {
					"undefined":	1,
					"myprofile":	1,
					"addfavs":	1,
					"viewfavs":	1,
					"search":	1,
					"main":	1,
					"category":	1,
					"browse":	1,
					"venueartist":	1,
					"artist":	1,
					"event":	1,
					"resale":	1,
					"venue":	1,
					"mycart":	1,
					"orderconfirmation":	1
				};
			rr_collapsing_conditions[RR.moduleNames.FANSVIEWED_V3] = {
					"undefined":	7,
					"myprofile":	7,
					"addfavs":	7,
					"viewfavs":	7,
					"search":	7,
					"main":	7,
					"category":	7,
					"browse":	7,
					"venueartist":	7,
					"artist":	7,
					"event":	7,
					"resale":	7,
					"venue":	7,
					"mycart":	7,
					"orderconfirmation":	7
				};

			/**
			* true result means "test passed", so module should be displayed
			*/
			RR.collapsingByRecsNumberTest = function (module, page, numberOfRecommendations) {
				if (!(module in rr_collapsing_conditions)) {
					return true;
				}
				var module_conditions = rr_collapsing_conditions[module];
				if (!(page in module_conditions)) {
					return true;
				}
				
				return numberOfRecommendations >= module_conditions[page];
			};
		})();

		window.R3_COMMON = new r3_common();
		R3_COMMON.setApiKey("421363196daa3779");
		R3_COMMON.setBaseUrl(window.location.protocol + '//recs.richrelevance.com/rrserver/');
		R3_COMMON.setClickthruServer(window.location.protocol + "//" + window.location.host);
		R3_COMMON.setSessionId(RR_UTILS.getSessionId());
		R3_COMMON.setUserId(GetCookie("MID_MD5") || RR_UTILS.getSessionId());
		R3_COMMON.setRegionId("46");

		var placementElement;

						window.R3_ITEM = new r3_item();
				R3_ITEM.setId("event_");
				rr_send();

		function rr_send () {

			r3();
			rr_flush_onload();
		};

RR.recommendationsInit = function () {
    jQuery(document).ready(function () {
        if (typeof RR.createModules === "function" && RR.data.JSON.placements.length){
        	RR.createModules();
	        if (RR.carouselExist) {
    	        RR.initCarouselModules();
        	}
        }
    });
};

RR.CaroselWithAligment = function (data, params){
    var that = new RR.CaroselWithoutPadding(data, params);
    if (data.rr_data.items.length <= data.visible) {
	    that.querySelector("div.recs-scrolling").style.textAlign = "center";
	    that.querySelector("ul.rec-list").className += " rr-no-arrows";
    }
    return that;
}

RR.CaroselWithoutPadding = function (data, params) {
    var that = new RR.CarouselModule(data, params);
    jQuery(that).removeClass("top-selling");
    return that;
};

(function(){
    var iterator = 1;

RR.ArtistCarosel = function (data, params) {
    var that = new RR.CarouselModule(data, params);
    var module_omniture_name = params.module_omniture_name ? params.module_omniture_name : "";
    var arrow_omni_text_left = "";
    var arrow_omni_text_right = "";
    var text = that.childNodes[0].innerHTML;
    var container_index = (data.rr_data.items.length > data.visible)? 2 : 0;
    var title_id = 'artist_title_' + (iterator++);
    jQuery('<div class="featured-lid color-cat"><h2 id="' + title_id +'" class="txt16">'+text+'</h2></div>').insertBefore(that.childNodes[0]);
    that.removeChild(that.childNodes[1]);
    that.className += " featured-block color-cat merchandise";
    var container = that.childNodes[1];
 	if (module_omniture_name) {
		if ("".match(/home/gi)) { 
			arrow_omni_text_left = "RR_Click_A_" + module_omniture_name + "_arrowleft";
			arrow_omni_text_right = "RR_Click_A_" + module_omniture_name + "_arrowright";
		} else {
			arrow_omni_text_left = "RR_Click__" + module_omniture_name + "_arrowleft";
			arrow_omni_text_right = "RR_Click__" + module_omniture_name + "_arrowright";
		} 
	} 
    jQuery('<div class="artist-left-arrow-wrapper"><div><input aria-label="Previous" alt="Previous" aria-describedby="'+title_id+'" type="image" src="http://media.ticketmaster.com/tm/en-us/img/sys/rebrand/scrollpoint_lft.png" class="rr-pagination-nav rr-pagination-arrow rr-pagination-nav-left rr-pagination-arrow-active artist-arrow rr_omni_click_nav" data-omniture="'+ arrow_omni_text_left +'" data-set="'+ data.id +'""></div></div>').insertBefore(container.childNodes[1]);
    
    if (data.rr_data.items.length > data.visible) {
      container.removeChild(container.childNodes[2]);
    }

    container.childNodes[container_index].className += " padV10 artist-module";
    container.style.background = "white";
 
	jQuery('<div class="artist-right-arrow-wrapper"> <div><input aria-label="Next" alt="Next" aria-describedby="'+title_id+'" type="image" src="http://media.ticketmaster.com/tm/en-us/img/sys/rebrand/scrollpoint_rt.png" class="rr-pagination-nav rr-pagination-arrow rr-pagination-nav-right rr-pagination-arrow-active artist-arrow rr_omni_click_nav" data-omniture="'+ arrow_omni_text_right +'" data-set="'+ data.id +'" ></div></div>').insertBefore(container.childNodes[3]);
    if (data.rr_data.items.length > data.visible) {
        container.removeChild(container.childNodes[4]);
    }

    return that;
};
})()

RR.jsonCallback = function () {
	var i,
		placements = RR.data.JSON.placements;	
	RR.placements = {};
	for(i in placements){
			RR.placements[placements[i].placement_name] = placements[i];
	}

	RR.emptyPlacement =  {
		message: "",
		items: [],
		placement_name: ""
	};

	RR.checkPlacement = function(placement){
		if(placement &&
		   typeof placement === "object" &&
		   placement.items && 
		   Object.prototype.toString.call( placement.items ) === '[object Array]'  
		){
			return placement;
		} else {
			return RR.emptyPlacement;
		}
	};

	RR.viewed = RR.checkPlacement(RR.placements["0"]);
	RR.fans = RR.checkPlacement(RR.placements["0"]);
	RR.recs = RR.checkPlacement(RR.placements["0"]);
	RR.topsellers = RR.checkPlacement(RR.placements["0"]);

    RR.responded.resolve();
};

RR.trackItemView = RichRelevance.trackItemView;

RR.responded = jQuery.Deferred();
RR.memberResponded = function () {
	window.RR_member_data = $H();
    
    var mid_cookie = (window.GetCookie && window.GetCookie('MID')) ? window.GetCookie('MID') : "";
    if (mid_cookie) {
	    return jQuery.getJSON("/json/member", {}, function (t) {
            window.RR_member_data.set("member", t.member);
        });
    } 
    
};
RR.carouselExist = false;	jQuery.when( RR.responded, RR.memberResponded(), RichRelevance.wallpaperResponded ).then(RR.recommendationsInit);
RR.getImageURL= function(url, size){
    var img_url;
	if(typeof url == "string"){
		img_url = url;
	} else if(typeof url == "object" && size){
		img_url = url[size];
	} else {
		throw new TypeError("Can not get ImageUrl for recommendation item");
	}
    if(typeof(img_url) === 'string' && window.location.protocol === "https:") {
        img_url = img_url.replace(/^http:/i, "https:");
    }
    return img_url;
};

(function () {
	var	EMPHASIS_OPEN_PLACEHOLDER = "||",
		EMPHASIS_CLOSE_PLACEHOLDER = "||",
		EMPHASIS_TAG = "strong",
		TRUNCATION_CAP = "...";

	var truncateAndEmphasize = function (sourceString, maxLength, considerEmphasis) {
		if (typeof maxLength === "undefined") {
			maxLength = Number.POSITIVE_INFINITY;
		} else if (typeof maxLength !== "number") {
			throw new TypeError('"maxLength" type is not number');
		} else if (isNaN(maxLength)) {
			throw new TypeError('NaN "maxLength" passed');
		}
		var tempString = sourceString;
		if (considerEmphasis) {
			var	emphasis_start,
				emphasis_finish,
				fromIndex,
				brackets_indices,
				lengthProcessed,
				clippingProcessed,
				needToClipProcessed,
				counter,
				i, j;
			fromIndex = 0;
			lengthProcessed = 0;
			brackets_indices = [];
			do {
				emphasis_start = emphasis_finish = -1;
				emphasis_start = tempString.indexOf(EMPHASIS_OPEN_PLACEHOLDER, fromIndex);
				if (emphasis_start != -1) {
					emphasis_finish = tempString.indexOf(EMPHASIS_CLOSE_PLACEHOLDER, emphasis_start + EMPHASIS_OPEN_PLACEHOLDER.length);
				}
				if (emphasis_start != -1 && emphasis_finish != -1) {
					brackets_indices.push(emphasis_start);
					lengthProcessed += emphasis_finish - fromIndex - EMPHASIS_OPEN_PLACEHOLDER.length;
					tempString = tempString.substring(0, emphasis_start) + "<" + EMPHASIS_TAG + ">" + tempString.substring(+emphasis_start + EMPHASIS_OPEN_PLACEHOLDER.length);
					emphasis_finish += +EMPHASIS_TAG.length + 2 - EMPHASIS_OPEN_PLACEHOLDER.length;
					brackets_indices.push(emphasis_finish);
					tempString = tempString.substring(0, emphasis_finish) + "</" + EMPHASIS_TAG + ">" + tempString.substring(+emphasis_finish + EMPHASIS_CLOSE_PLACEHOLDER.length);
					fromIndex = +emphasis_finish + EMPHASIS_TAG.length + 3;
				} else {
					/**
					* Nothing to emphasise more.
					*/
					lengthProcessed += tempString.length - fromIndex;
					fromIndex = tempString.length;
				}
				/**
				* Check truncation need for this step.
				*/
				if (lengthProcessed > maxLength) {
					/**
					* Do regression.
					*/
					clippingProcessed = (emphasis_start != -1 && emphasis_finish != -1) ? 0 : tempString.length - (brackets_indices.length == 0 ? 0 : brackets_indices[brackets_indices.length - 1] + EMPHASIS_TAG.length + 3);
					needToClipProcessed = lengthProcessed - (maxLength > TRUNCATION_CAP.length ? maxLength - TRUNCATION_CAP.length : 0);
					i = brackets_indices.length - 1;
					while (clippingProcessed <= needToClipProcessed && i > -1) {
						i--;
						clippingProcessed += brackets_indices[i + 1] - (i > -1 ? brackets_indices[i] + EMPHASIS_TAG.length + (i % 2 == 0 ? 2 : 3) : 0);
					}
					if (clippingProcessed > needToClipProcessed) {
						if (i % 2 == 0) {
							/**
							* Do emphasise cap.
							*/
							tempString = tempString.substring(0, brackets_indices[i] + EMPHASIS_TAG.length + 2 + clippingProcessed - needToClipProcessed) + TRUNCATION_CAP + "</" + EMPHASIS_TAG + ">";
						} else {
							/**
							* Do NOT emphasise cap.
							*/
							tempString = tempString.substring(0, (i > -1 ? brackets_indices[i] + EMPHASIS_TAG.length + 3 : 0) + clippingProcessed - needToClipProcessed) + TRUNCATION_CAP;
						}
					} else {
						j = 0;
						counter = brackets_indices.length == 0 ? 0 : brackets_indices[0];
						while (j < brackets_indices.length - 1 && counter == 0) {
							j++;
							counter += brackets_indices[j] - brackets_indices[j - 1] - EMPHASIS_TAG.length - (j % 2 == 0 ? 3 : 2);
						}
						if (counter == 0 || j % 2 == 0) {
							/**
							* Do NOT emphasise cap.
							*/
							tempString = TRUNCATION_CAP;
						} else {
							/**
							* Do emphasise cap.
							*/
							tempString = "<" + EMPHASIS_TAG + ">" + TRUNCATION_CAP + "</" + EMPHASIS_TAG + ">";
						}
					}
					break;
				}
			} while (fromIndex < tempString.length);
		} else {
			tempString = tempString.length <= maxLength ? tempString : ( tempString.substr(0, maxLength - TRUNCATION_CAP.length) + TRUNCATION_CAP );
		}
		return tempString;
	};

	(function () {
	    /**
	    * default RR.RecommendationItem private static params;
	    * all possible params should be declared here
	    */
	    var defaultParams = {
	        truncationConditions: undefined, // ex.: { title:100 }
			imageSize: "305x225"
	    };
        var iterator = 1;
	    RR.RecommendationItem = function (item, params) {
	        var that,
	        	itemLink,
	            image,
	            titleSpan,
	            favsButton,
	            favsButtonSpan,
	            favsSpan,
	            validParams = {},
	            property,
	            module_omniture_name = (params.module_omniture_name) ?  params.module_omniture_name : "",
	            iterId = params.id,
	        	isOmniture = (module_omniture_name && iterId) ? true : false;

	        // check validation params. 
	        for (property in defaultParams) {
	            validParams[property] = params && (property in params) ? params[property] : defaultParams[property];
	        }


	        that = document.createElement("li");
	        that.className = "rec-item";

	        itemLink = document.createElement("a");
		    itemLink.className = "block";
	        itemLink.href = item.linkURL;
	        itemLink.setAttribute('role', 'link');

	        image = document.createElement("img");
	        image.src = RR.getImageURL(item.imageURL, validParams.imageSize);
	        image.alt = "";
	        image.title = "More Info About " + item.name;
	        image.className = "rec-artist-img rr_omni_click";
	        itemLink.appendChild(image);

	        if (isOmniture) {
	        	if (module_omniture_name.match(/viewed/gi) ) {  
	        		image.setAttribute("data-omniture", "_" + module_omniture_name + iterId + "_image");
	        	} else {
	        		if ("".match(/home/gi)) { 
	        			image.setAttribute("data-omniture", "A_" + module_omniture_name + "_image" + iterId);
	        		} else {
	        			image.setAttribute("data-omniture", "_" + module_omniture_name + "_image" + iterId);
	        		}
	        	}
	        }

	        titleSpan = document.createElement("span");
	        titleSpan.className = "rec-text rec-title rr_omni_click";
            titleSpan.id = "rr_item_title_"+(iterator++);

	        if (isOmniture) {
	        	if (module_omniture_name.match(/viewed/gi) ) {  
	        		titleSpan.setAttribute("data-omniture", "_" + module_omniture_name + iterId + "_name");
	        	} else {
	        		if ("".match(/home/gi)) { 
	        			titleSpan.setAttribute("data-omniture", "A_" + module_omniture_name + "_name" + iterId);
	        		} else {
	        			titleSpan.setAttribute("data-omniture", "_" + module_omniture_name + "_name" + iterId);
	        		}
	        	}
	        }

	        var textContainer = new INTERNAL_CORE.UI.PlainTextContainer(titleSpan);
	        textContainer.setLinesLimit(2);
	        textContainer.setText(item.name);
	        itemLink.appendChild(titleSpan);

	        if(item.rating) {

	        	if (isOmniture) {
		        	if (module_omniture_name.match(/viewed/gi) ) {
		        		ratingScale = new RR.RatingBlock(item.rating, "_" + module_omniture_name + iterId + "_rating");  
		        	} else {
		        		if ("".match(/home/gi)) {
		        			ratingScale = new RR.RatingBlock(item.rating, "A_" + module_omniture_name  + "_rating" + iterId); 
		        		} else {
		        			ratingScale = new RR.RatingBlock(item.rating, "_" + module_omniture_name  + "_rating" + iterId); 
		        		}
		        	}
		        } else {
		        	ratingScale = new RR.RatingBlock(item.rating);
		        }

				itemLink.appendChild(ratingScale);
			}

			that.appendChild(itemLink);

	        if (window.RR_member_data && window.RR_member_data.get && window.RR_member_data.get("member")) {
	            var added = false,
	                type_id,
	                num_id,
	                item_id_parse,
	                mdata = window.RR_member_data.get("member");

	            if (item.id && item.id.match(/_/gi)) {
	                item_id_parse = item.id.split("_");
	                type_id = item_id_parse[0];
	                num_id = item_id_parse[1];
	            }


	            if (type_id && num_id) { 

	            	if (mdata["artists"] && !added) {

		                for (var i in mdata["artists"]) {
		                    if (mdata["artists"][i] && mdata["artists"][i].id && mdata["artists"][i].id == num_id) {
		                        added = true; // set flag if artist found
		                        break;
		                    }
		                }

          			}

                    if (mdata["teams"] && !added) {
                    	
	                    for (var i in mdata["teams"]) {
	                        if (mdata["teams"][i] &&  mdata["teams"][i].id  == num_id) {
	                            added = true; // set flag if team found
	                            type_id = "team";
	                            break;
	                        }
	                    }
                	}					

		            

		            favsSpan = document.createElement("span");
		            favsSpan.className = "block add-to-faves";
		            favsButton = document.createElement("button");
		            favsButton.className = (added) ? "block fave added" : "block fave";
		            favsButton.setAttribute("data-id",type_id + "_" + num_id);
		            favsButton.setAttribute("role", "button");
                    favsButton.setAttribute("aria-describedby", titleSpan.id);
		          
		            
		            if (isOmniture) {
		            	favsButton.cid = iterId;

			        	if (module_omniture_name.match(/viewed/gi) ) {  
			        		favsButton.setAttribute("data-omniture", "_" + module_omniture_name);
			        	} else {
			        		favsButton.setAttribute("data-omniture", "_" + module_omniture_name);
			        	}
			        }

		            favsButtonSpan = document.createElement("span");
		            favsButtonSpan.innerHTML = (added) ? "Remove this from your Favorites" : "Add this to your Favorites"; 
		            favsButton.appendChild(favsButtonSpan);

		            favsSpan.appendChild(favsButton);
		            that.appendChild(favsSpan);
		        }    

	        }

	        return that;
	    };
	})();
	
	RR.AddOmnitureTracking = function (content) {
	       var URLHelper = {
               setParameter: function(url, name, val) {

                    //Try to replace the parameter if it's present in the url
                    var count = 0;
                    url = url.replace(new RegExp("([\\?&]" + name + "=)[^&]+","g"), function (a, match) {
                        count++;
                        return match + val;
                    });

                    //If The parameter is not present in the url append it
                    if (!count) {
                        if(url.indexOf("?") >=0){
                        if(url.indexOf("?") !== url.length-1){
                             url+='&';
                        }
                        } else {
                        url+="?";
                        }
                        url+= name + "=" + val;
                    }

                    return url;
               },
               getParameter: function(url, name) {
                    var name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                    var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
                    results = regex.exec(url);

                    return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
               }
	       };
	
		var check_link = (function (tag, omn_value) {
			
			if (!jQuery(tag).length ) {
				return false;
			} 

			var href = (jQuery(tag).attr("href")) ? jQuery(tag).attr("href") : jQuery(tag).closest("a").attr('href');

            if(!omn_value){
                return href;
            }


			var redirectURL = URLHelper.setParameter(decodeURIComponent(URLHelper.getParameter(href,"ct")), "tm_link", omn_value);
		 
			href = URLHelper.setParameter(href, "ct", encodeURIComponent(redirectURL));
			
			return href;

		});

		var track_omniture = (function (omn_value) {
			if (window.omniTracking && window.omniTracking.module_link && omn_value) {
				window.omniTracking.module_link(omn_value, false);
			}
		});
 
		RR.AddOmnitureTracking = function (content) {

			jQuery(content).delegate("a", "click", function (event) {
				event.preventDefault();

			}).delegate("a", "keydown", function (event) {
				
				var tag = event.currentTarget,
					redirect,
				    omn_value =  jQuery(tag).find(".rec-title").attr("data-omniture") || "";
				    
				redirect = check_link(tag, omn_value) || ""; 

				if (event.which == 13 && redirect) {
					if(omn_value){
                       track_omniture(omn_value);
                    }
					location.href = redirect;
				} 

			

			}).delegate(".rr_omni_click", "mousedown", function (event) {
		
				var tag = event.currentTarget,
					redirect,
				    omn_value =  jQuery(tag).attr("data-omniture");

				redirect = check_link(tag, omn_value) || "";
				  
	            if (event.which == 1 && redirect) {
	            	track_omniture(omn_value);
	            	location.href = redirect;
				} else if (event.which == 2 && redirect) {
					track_omniture(omn_value);
					window.open(redirect,"_blank");
				} else if (event.which == 3 && redirect) {
					track_omniture(omn_value);
				}

				jQuery(tag).closest("a").attr("href", redirect);
				
				return false;

			}).delegate(".rr_omni_click_nav", "click", function (event) {
				
				var tag = event.currentTarget,
				    omn_value =  jQuery(tag).attr("data-omniture");

				track_omniture(omn_value);

				return false;

			});
		}

		RR.AddOmnitureTracking(content);

	}

	RR.AddFavsBehavior = function (content) {
	    var that,
	        click_class = ".fave",
	        mid_cookie,
	        isOmniTracking = (window.omniTracking && window.omniTracking.trackomni_favoriteshare) ? true : false;

	    // get coockie
	    mid_cookie = (window.GetCookie && window.GetCookie('MID')) ? window.GetCookie('MID') : "";

	    // check favorites
	    if (!jQuery(content).find(click_class).length) {
	        return false;
	    }

	    var handler = function (event, queueId) {
			if (typeof window.ajaxQueue != 'object' || !window.ajaxQueue instanceof Hash) {
				window.ajaxQueue = $H();
				window.ajaxCounter = 0;
			}
			if (!queueId) {
				queueId = window.ajaxCounter++;
				var func = handler.bind(this, event, queueId);
				window.ajaxQueue.set(
					queueId,
					func
				);
				if (window.ajaxQueue.size() > 1) {
					return;
				}
			}
			
	        var button = event.currentTarget,
	            item_id,
	            type_id,
	            num_id,
	            cid  = button.cid,
	            item_id_parse,
	            eVar = "eVar17",
	            item_type = "",
	            data_omn = jQuery(button).attr("data-omniture");

	        item_id = jQuery(button).attr('data-id');

	        if (button.block) {
	            return false;
	        }

	        button.block = true;

	        // parse artist_id
	        if (item_id && item_id.match(/_/gi)) {
	            item_id_parse = item_id.split("_");
	            type_id = item_id_parse[0];
	            num_id = item_id_parse[1];
	        }

	        // set type of alert_preferences   
	        if (type_id == "artist" ) {
	            item_type = "performer";
	        } else if (type_id == "team") {
                item_type = "team";
         	} 

	        if (!num_id || !type_id || !item_type || !mid_cookie) {
	            alert("An error occurred, please try again later.");
	            button.block = false;
	            return false;
	        }
		
			var csrf_token = (window.GetCookie && window.GetCookie('csrf_token')) ? window.GetCookie('csrf_token') : "";

	        jQuery.post("/json/alert_preferences", {
	            "id": num_id,
	            "type": item_type,
	            "delete": 1,
	            "page": "recommendations",
                "is_rr": 1,
	            "vtoken_mid": mid_cookie,
		    "csrf_token": csrf_token
	        }, function (result) {
	            if (result.type == "alert_preference") {
	                if (result.alert_preference && result.alert_preference.id && result.alert_preference.id == num_id) {
	                   	
	                    if (result.alert_preference.removed) {

	                        jQuery("button[data-id=" + item_id + "]").removeClass("added");
	                        jQuery("button[data-id=" + item_id + "]").find('span').html("Add this to your Favorites");
	                        
	                        if ("" == num_id && jQuery("#my_fav_sprite").length) {
	                            jQuery("#my_fav_sprite").attr({"class": "addfav-large-button", "alt": "Add to Favorites - Opens a simulated dialog."});
	                            jQuery("#list_atf_fav_sprite").attr("class", "addfav-large-button");
	                            jQuery("#ld_bdy_fav").show();
	                        }

	                        if (isOmniTracking && data_omn && eVar && cid) {
	                        	if (data_omn.match(/view/gi)){
	                        		omniTracking.trackomni_favoriteshare([eVar, 'events'],[num_id,"eVar11"], data_omn + cid + "_remove_fav");
	                        	} else {
	                        		omniTracking.trackomni_favoriteshare([eVar, 'events'],[num_id,"eVar11"], data_omn + "_remove_fav" + cid);	
	                        	}
	                        	
	                        } 

	                    } else {

	                        jQuery("button[data-id=" + item_id + "]").addClass("added");
	                        jQuery("button[data-id=" + item_id + "]").find('span').html("Remove this from your Favorites");
	                        		                        if (RR.trackItemView ) {
		                            RR.trackItemView("artist_" + num_id);
		                        }
	                        if ("" == num_id && jQuery("#my_fav_sprite").length) {
	                            jQuery("#my_fav_sprite").attr({"class": "myfav-button", "alt": "My Favorite - Opens a simulated dialog."});
	                            jQuery("#ld_bdy_fav").hide();
	                        }

	                        if (isOmniTracking && data_omn && eVar && cid) {
	                        	if (data_omn.match(/view/gi) ){
	                        		omniTracking.trackomni_favoriteshare([eVar, 'events'],[num_id,"eVar10"], data_omn + cid + "_add_fav");
	                        	} else {
	                        		omniTracking.trackomni_favoriteshare([eVar, 'events'],[num_id,"eVar10"], data_omn + "_add_fav" + cid);	
	                        	}
	                        	
	                        }
	                        
	                    }
	                    
	                    if (type_id == "artist" && result.alert_preference.type == "team") {
	                    	jQuery(button).attr('data-id', "team_" + num_id);
	                    } 
	                    
	                } else {
	                    alert("An error occurred, please try again later.");
	                }

	                button.block = false;
	            } else {
	                alert("An error occurred, please try again later.");
	                button.block = false;
	            }
	        }, "json").fail(function () {
	            alert("An error occurred, please try again later.");
	            button.block = false;
	        }).always(function () {
				window.ajaxQueue.unset(queueId);
                if (window.ajaxQueue.size()) {
                    var func = window.ajaxQueue.get(window.ajaxQueue.keys().first());
                    func();
                }
			});

	        return false;

	    }
		jQuery(content).delegate(click_class, "click", handler);
	    return false;
	};


	(function () {
		/**
		* default RR.TopSellersModule private static params;
		* all possible params should be declared here
		*/
		var defaultParams = {
			truncationConditions: undefined // ex.: { header:100, items:[ {index:0, value:100}, {index:3, value:undefined} ] }
		};
		RR.TopSellersModule = function (data, params) {
			var validParams,
			    module_omniture_name  = (params.module_omniture_name) ? params.module_omniture_name : "";

			validParams = {};
			var property;
			for (property in defaultParams) {
				validParams[property] = params && (property in params) ? params[property] : defaultParams[property];
			}

		    var that = document.createDocumentFragment();
		    var wrapper = document.createElement("div");
		    wrapper.className = "ts-wrapper";

		    var h2 = document.createElement("h2");
		    /*** truncation and emphasizing ***/
		    var tempString,
		    	maxLength;
			tempString = (typeof data.rr_data.message === "string") ? data.rr_data.message : data.rr_data.message["en-us"];
			maxLength = validParams.truncationConditions && validParams.truncationConditions.header !== undefined ? validParams.truncationConditions.header : undefined;
			tempString = truncateAndEmphasize(tempString, maxLength, true);
			h2.innerHTML = tempString;
			/**********************************/

		    var gradient = document.createElement("div");
		    gradient.className = "lid-tm ts-grad";

		    wrapper.appendChild(h2);
		    wrapper.appendChild(gradient);
		    that.appendChild(wrapper);

		    var container = document.createElement("div");
		    container.className = "container-tm";

		    var ol = document.createElement("ol");
		    ol.className = "topSellers";
		    ol.id = "top_seller_list";

			var itemsTruncationConditions,
				currentTruncationCondition,
				conditionIndex;
			itemsTruncationConditions = validParams.truncationConditions && validParams.truncationConditions.items;
			if (itemsTruncationConditions && itemsTruncationConditions.length == 0) {
				itemsTruncationConditions = [ { index:0, value:undefined } ];
			}
			conditionIndex = 0;
			var	li,
				textLink;
		    for(var i = 0 ; i < data.rr_data.items.length ; i++) {
		    	if (itemsTruncationConditions) {
					while ((+conditionIndex + 1) < itemsTruncationConditions.length && i >= itemsTruncationConditions[+conditionIndex + 1].index) conditionIndex++;
				}
				li = document.createElement("li");
				textLink = document.createElement("a");
				textLink.href = data.rr_data.items[i].linkURL;
				textLink.title = data.rr_data.items[i].name;
				textLink.className = "rr_omni_click";

				if (module_omniture_name) {
					if ("".match(/home/gi) ) { 
						textLink.setAttribute("data-omniture", "A_" + module_omniture_name + (i+1));
					} else {
						textLink.setAttribute("data-omniture", "_" + module_omniture_name + (i+1));
					}
				}

				var textContainer = new INTERNAL_CORE.UI.PlainTextContainer(textLink);
				textContainer.setLinesLimit(2);
				textContainer.setText(data.rr_data.items[i].name);
				li.appendChild(textLink);
				ol.appendChild(li);
		    }

		    container.appendChild(ol);
		    RR.AddOmnitureTracking(container);
		    that.appendChild(container);    
		    return that;
		};
	})();

	RR.createBottomBlocks = function (data) {
		document.getElementById("placement3").appendChild(
			new RR.BottomBlock({
				RecentlyViewed: {
					title: "You recently Viewed",
					rr_data: data.recently_viewed_data
				},
				Carousel: {
					id: "bottomRecs",
					visible: 5,
					rr_data: data.placement_data
				}
		    })
		);
	};

	RR.createSideBlocks = function(data){
		if (data.viewed || data.trending) {
		    var node = document.getElementById("side-module");
		    node.style.display = "";


		    /* RecentlyViewed v2 */
		    if (data.viewed) {
			    node.appendChild(
				    new RR.RightModule({
						rr_data: data.viewed
				    },
				    {
				    	max: 2,
				    	truncationConditions: RR.getCharacterLimits(RR.moduleNames.YOURECENTLYVIEWED_V2, "event"),
				    	module_omniture_name: "rv2_viewed"
				    })
			    );
		    }

		    if (data.trending) {
			    var trendingMax = 5;
			    trendingMax -= data.viewed ? (data.viewed.items.length > 2 ? 2 : data.viewed.items.length) : 0;
			    node.appendChild(
					new RR.RightModule({
						rr_data: data.trending
				    },
				    {
				    	max: trendingMax,
				    	truncationConditions: RR.getCharacterLimits(RR.moduleNames.FANSVIEWED_V2, "event"),
				    	module_omniture_name: "rv2"
				    })
		    	);
		    }
		}
	};

	RR.BottomBlock = function (data) {
		var that = document.createDocumentFragment();

		if (data.RecentlyViewed) {
		    that.appendChild(
			    new RR.RecentlyViewed(data.RecentlyViewed, { truncationConditions: RR.getCharacterLimits(RR.moduleNames.YOURECENTLYVIEWED_V1, "event"), module_omniture_name: "rv1_viewed"})
		    );
		}
		if (data.Carousel) {
		    that.appendChild(
			    new RR.CarouselModule(data.Carousel, { truncationConditions: RR.getCharacterLimits(RR.moduleNames.FANSVIEWED_V1, "event"), module_omniture_name: "rv1"})
		    );
		}
		return that;
	};

	(function () {
		/**
		* default RR.CarouselModule private static params;
		* all possible params should be declared here
		*/
		var defaultParams = {
			itemConstructor: RR.RecommendationItem,
			imageSize: "305x225",
			truncationConditions: undefined // ex.: { header:100, items:[ {index:0, value:100}, {index:3, value:undefined} ] }
		};
        var iterator = 1;
		RR.CarouselModule = function (data, params) {
			var	that,
				header,
				container,
				fader,
				leftArrow,
				rightArrow,
				scrollingBlock,
				list,
				favoritesText,
				module_omniture_name = (params.module_omniture_name) ? params.module_omniture_name : "",
				validParams;

			validParams = {};
			var property;
			for (property in defaultParams) {
				validParams[property] = params && (property in params) ? params[property] : defaultParams[property];
			}

			that = document.createElement("div");
			that.className = "recs-module top-selling";

			header = document.createElement("h2");
            header.id = "rr_header_"+(iterator++);
			header.className = "h2 bgBot10 recs-header";
			/*** truncation and emphasizing ***/
			var tempString,
		    	maxLength;
			tempString = (typeof data.rr_data.message === "string") ? data.rr_data.message : data.rr_data.message["en-us"];
			maxLength = validParams.truncationConditions && validParams.truncationConditions.header !== undefined ? validParams.truncationConditions.header : undefined;
			tempString = truncateAndEmphasize(tempString, maxLength, true);
			header.innerHTML = tempString;
			/**********************************/
			that.appendChild(header);

			container = document.createElement("div");
			container.className = "recs-container";
			container.id = data.id;
			container.setAttribute('data-page', 1);
			container.setAttribute('data-visible', data.visible);

			if (data.rr_data.items.length > data.visible) {
				fader = document.createElement("b");
				fader.className = "recs-fader";
				container.appendChild(fader);

				leftArrow = document.createElement("button");
				leftArrow.className = "rr-pagination-nav rr-pagination-arrow rr-pagination-nav-left rr-pagination-arrow-active rr_omni_click_nav";
				leftArrow.setAttribute("aria-describedby", header.id);
				leftArrow.setAttribute("title", "Previous");

				if (module_omniture_name) {
					if ("".match(/home/gi)) { 
						leftArrow.setAttribute("data-omniture", "RR_Click_A_" + module_omniture_name + "_arrowleft");
					} else {
						leftArrow.setAttribute("data-omniture", "RR_Click__" + module_omniture_name + "_arrowleft");
					} 
				} 
				
				leftArrow.setAttribute('data-set', data.id);
				container.appendChild(leftArrow);
			}

			scrollingBlock = document.createElement("div");
			scrollingBlock.className = "recs recs-scrolling";

			list = document.createElement("ul");
			list.className = "rec-list no-bullet"; 

			var itemsTruncationConditions,
				currentTruncationCondition,
				conditionIndex;
			itemsTruncationConditions = validParams.truncationConditions && validParams.truncationConditions.items;
			if (itemsTruncationConditions && itemsTruncationConditions.length == 0) {
				itemsTruncationConditions = [ { index:0, value:undefined } ];
			}
			conditionIndex = 0;
			var li;
			for (var i = 0 ; i < data.rr_data.items.length ; i++) {
				if (itemsTruncationConditions) {
					while ((+conditionIndex + 1) < itemsTruncationConditions.length && i >= itemsTruncationConditions[+conditionIndex + 1].index) conditionIndex++;
				}
			    li = new validParams.itemConstructor(data.rr_data.items[i], {
			    	truncationConditions:{ title:( itemsTruncationConditions ? itemsTruncationConditions[conditionIndex].value : undefined ) },
			    	module_omniture_name: module_omniture_name,
			    	id: (i+1),
					imageSize: validParams.imageSize
			    });
			    list.appendChild(li);
			}

			scrollingBlock.appendChild(list);

			container.appendChild(scrollingBlock);

			if (data.rr_data.items.length > data.visible) {
				rightArrow = document.createElement("button");
				rightArrow.className = "rr-pagination-nav rr-pagination-arrow rr-pagination-nav-right rr-pagination-arrow-active rr_omni_click_nav";
				rightArrow.setAttribute("aria-describedby", header.id);
				rightArrow.setAttribute("title", "Next");

				if (module_omniture_name) {
					if ("".match(/home/gi)){ 
						rightArrow.setAttribute("data-omniture", "RR_Click_A_" + module_omniture_name + "_arrowright");
					} else {
						rightArrow.setAttribute("data-omniture", "RR_Click__" + module_omniture_name + "_arrowright");
					}
				} 
				
				rightArrow.setAttribute('data-set', data.id);
				container.appendChild(rightArrow);
			}

			that.appendChild(container);

			if (data.favoritesText && GetCookie("MID")) {
				var callout = "";				callout = "Improve this list by" + ' <a href="https://www.ticketmaster.com/member/addfavs?tm_link=_rc_updatefav" class="bld">' + "updating your favorites" + "</a>.";		
				favoritesText = document.createElement("p");
				favoritesText.innerHTML = callout;
				that.appendChild(favoritesText);
			}

			RR.carouselExist = true;
			RR.AddFavsBehavior(that);
			RR.AddOmnitureTracking(that);
			return that;
		};
	})();

	(function () {
		/**
		* default RR.RightModule private static params;
		* all possible params should be declared here
		*/
		var defaultParams = {
			itemConstructor: RR.RecommendationItem,
			truncationConditions: undefined, // ex.: { header:100, items:[ {index:0, value:100}, {index:3, value:undefined} ] }
			max: undefined,
			imageSize: "205x115"
		};
		RR.RightModule = function (data, params) {
			var	that,
				header,
				list,
				validParams,
				module_omniture_name = (params.module_omniture_name) ? params.module_omniture_name : "";

			validParams = {};
			var property;

			for (property in defaultParams) {
				validParams[property] = params && (property in params) ? params[property] : defaultParams[property];
			}

			that = document.createElement("div");
			that.className = "side-group recent-group";

			header = document.createElement("h2");
			header.className = "side-header";
			/*** truncation and emphasizing ***/
			var tempString,
		    	maxLength;
			tempString = (typeof data.rr_data.message === "string") ? data.rr_data.message : data.rr_data.message["en-us"];
			maxLength = validParams.truncationConditions && validParams.truncationConditions.header !== undefined ? validParams.truncationConditions.header : undefined;
			tempString = truncateAndEmphasize(tempString, maxLength, true);
			header.innerHTML = tempString;
			/**********************************/
			that.appendChild(header);

			list = document.createElement("ul");
			list.className = "rec-list no-bullet clearfix";

			var max = validParams.max || data.rr_data.items.length;

			var itemsTruncationConditions,
				currentTruncationCondition,
				conditionIndex;
			itemsTruncationConditions = validParams.truncationConditions && validParams.truncationConditions.items;
			if (itemsTruncationConditions && itemsTruncationConditions.length == 0) {
				itemsTruncationConditions = [ { index:0, value:undefined } ];
			}
			conditionIndex = 0;
			var li;
			for(var i = 0 ; i < max && i < data.rr_data.items.length; i++){
				if (itemsTruncationConditions) {
					while ((+conditionIndex + 1) < itemsTruncationConditions.length && i >= itemsTruncationConditions[+conditionIndex + 1].index) conditionIndex++;
				}
			    li = new validParams.itemConstructor(data.rr_data.items[i], {
			    	truncationConditions:{ title:( itemsTruncationConditions ? itemsTruncationConditions[conditionIndex].value : undefined ) },
			    	module_omniture_name: module_omniture_name,
			    	id: (i+1),
					imageSize: validParams.imageSize
			    });
			    list.appendChild(li);
			}

			that.appendChild(list);
			RR.AddFavsBehavior(that);
			RR.AddOmnitureTracking(that);
			return that;
		};
	})();

	(function () {
		/**
		* RecentlyViewed v1
		* default RR.RecentlyViewed private static params;
		* all possible params should be declared here
		*/
		var defaultParams = {
			truncationConditions: undefined, // ex.: { header:100, items:[ {index:0, value:100}, {index:3, value:undefined} ] }
			imageSize: "205x115"
		};
		RR.RecentlyViewed = function (data, params) {
			var validParams,
				module_omniture_name = (params.module_omniture_name) ? params.module_omniture_name : "";

			validParams = {};
			var property;
			for (property in defaultParams) {
				validParams[property] = params && (property in params) ? params[property] : defaultParams[property];
			}

			var that = document.createElement("div");
			that.className = "recs-module resentlyViewed";
			that.id = "rr-rvText";

			var header = document.createElement("h4");

			header.className = "h2 margin-bottom-10 cs-recently-viewed-header";
			/*** truncation and emphasizing ***/
			var tempString,
		    	maxLength;
			tempString = "You recently viewed" ;
			maxLength = validParams.truncationConditions && validParams.truncationConditions.header !== undefined ? validParams.truncationConditions.header : undefined;
			tempString = truncateAndEmphasize(tempString, maxLength, true);
			header.innerHTML = tempString;
			/**********************************/
			that.appendChild(header);

			if (data.rr_data.items.length == 0) {
				var nothing = document.createElement("span");
				nothing.id = "rv_no_results";
				nothing.innerHTML = "<strong>Nothing (yet).</strong><br>Start checking out your favorite artists, teams, events and venues!  We'll remember them here so you can find them again fast.";
				that.appendChild(nothing);
			} else {
				var itemsTruncationConditions,
					currentTruncationCondition,
					conditionIndex;

				itemsTruncationConditions = validParams.truncationConditions && validParams.truncationConditions.items;
				if (itemsTruncationConditions && itemsTruncationConditions.length == 0) {
					itemsTruncationConditions = [ { index:0, value:undefined } ];
				}
				conditionIndex = 0;
				if (itemsTruncationConditions) {
					while ((+conditionIndex + 1) < itemsTruncationConditions.length && 0 >= itemsTruncationConditions[+conditionIndex + 1].index) conditionIndex++;
				}

				var block = document.createElement("div");
				block.className = "block";

				var imgLink = document.createElement("a");
				imgLink.href = data.rr_data.items[0].linkURL;
				imgLink.setAttribute('role', 'link');


				var img = document.createElement("img");
				img.src = RR.getImageURL(data.rr_data.items[0].imageURL, validParams.imageSize);
				img.className = "recMainImg rr_omni_click floatLeft";
				img.alt = data.rr_data.items[0].name;
				img.title = data.rr_data.items[0].name;
				img.setAttribute("data-omniture", "_" + module_omniture_name + "1_" + "image");
				imgLink.appendChild(img);

				var firstLineName = document.createElement("span");
				firstLineName.className = "inline_block recMainInfo ";

				var inner_span = document.createElement("span");
				var strong = document.createElement("strong");

				var textContainer;
				textContainer = new INTERNAL_CORE.UI.PlainTextContainer(strong);
				textContainer.setLinesLimit(2);
				textContainer.setText(data.rr_data.items[0].name);
				inner_span.appendChild(strong);
				inner_span.className ="rr_omni_click";
				inner_span.setAttribute("data-omniture", "_" + module_omniture_name + "1_" + "name");
				firstLineName.appendChild(inner_span);
				
		        if (data.rr_data.items[0].rating) {
		        	var ratingScale = new RR.RatingBlock(data.rr_data.items[0].rating, "_" + module_omniture_name + "1_" + "rating");
				ratingScale.className += " mg0";
		        	firstLineName.appendChild(ratingScale);

				}

				imgLink.appendChild(firstLineName);
				block.appendChild(imgLink);

				if(data.rr_data.items[0].venueName && data.rr_data.items[0].venueURL){
					var outerSpan = document.createElement("span");
					outerSpan.className = "block txtRt";

					var innerSpan = document.createElement("span");
					innerSpan.className = "inline_block recMainInfo txtLft";

					var strng = document.createElement("strong");
					var venueLink = document.createElement("a");
					venueLink.href = data.rr_data.items[0].venueURL;
					venueLink.innerHTML = data.rr_data.items[0].venueName;
					venueLink.className = "txtDefColor rr_omni_click";
					venueLink.setAttribute("data-omniture", "_" + module_omniture_name + "1_" + "venue");

					strng.appendChild(venueLink);
					innerSpan.appendChild(strng);
					outerSpan.appendChild(innerSpan);
					block.appendChild(outerSpan);
				}

				that.appendChild(block);

				var clear = document.createElement("div");
				clear.className = "clear";
				that.appendChild(clear);

				if (data.rr_data.items.length > 1) {
				    var list = document.createElement("ul");
				    list.className = "favs";
				    list.id = "rv_list";

				    var item;
				    for (var i = 1 ; i < data.rr_data.items.length ; i++ ) {
				    	if (itemsTruncationConditions) {
							while ((+conditionIndex + 1) < itemsTruncationConditions.length && i >= itemsTruncationConditions[+conditionIndex + 1].index) conditionIndex++;
						}
					    item = document.createElement("li"),
						link = document.createElement("a");
					    link.className = "block rr_omni_click";
					    link.title = data.rr_data.items[i].name;
					    link.href = data.rr_data.items[i].linkURL;
					    textContainer = new INTERNAL_CORE.UI.PlainTextContainer(link);
						textContainer.setLinesLimit(1);
						textContainer.setText(data.rr_data.items[i].name);
					    link.setAttribute("data-omniture", "_" + module_omniture_name + (i+1) );
					    item.appendChild(link);
					    list.appendChild(item);
				    }
				    that.appendChild(list);
				}
			}

			RR.AddOmnitureTracking(that);
			return that;
		};
	})();

	RR.RatingBlock = function(rt, omni_attr) {

		var that = document.createElement("span");
		if (rt && rt !== 0 && rt !== "0") {
			that.className = "rec-text rec-rating rr_omni_click";
		    that.title = rt + " out of 5 stars";
		    
		    if (omni_attr) { 
		    	that.setAttribute("data-omniture", omni_attr);
			}

			var rating = document.createElement("span");
			rating.style.width = (74*(20*parseFloat(rt))/100)+"px";
			rating.innerHTML = " " + rt +" out of 5 stars ";

			that.appendChild(rating);
		}
		return that;
	};

	(function () {
		/**
		* RecentlyViewed v3
		* default RR.AlterRecentlyViewed private static params;
		* all possible params should be declared here
		*/
		var defaultParams = {
			truncationConditions: undefined, // ex.: { header:100, items:[ {index:0, value:100}, {index:3, value:undefined} ] }
			imageSize: "205x115"
		};
		RR.AlterRecentlyViewed = function (data, params) {
			var validParams;
			var module_omniture_name = "rv3_viewed";
			validParams = {};
			var property;
			for (property in defaultParams) {
				validParams[property] = params && (property in params) ? params[property] : defaultParams[property];
			}

			var favsWithEvents3 = jQuery("#myLn ul.fav-list > li")[2];
			if(favsWithEvents3) {
				favsWithEvents3.remove();
			}

			var that = document.createElement("div");
			that.className = "recent";

			var br = document.createElement("br");
			that.appendChild(br);

			var line = document.createElement("span");
			line.className = "hr";
			that.appendChild(line);

			var header = document.createElement("p");
			/*** truncation and emphasizing ***/
			var tempString,
		    	maxLength;
			tempString = "You recently viewed";
			maxLength = validParams.truncationConditions && validParams.truncationConditions.header !== undefined ? validParams.truncationConditions.header : undefined;
			tempString = truncateAndEmphasize(tempString, maxLength, true);
			header.innerHTML = tempString;
			/**********************************/
			that.appendChild(header);

			if (data.rr_data.items && data.rr_data.items.length > 0) {
				var itemsTruncationConditions,
					currentTruncationCondition,
					conditionIndex;
				itemsTruncationConditions = validParams.truncationConditions && validParams.truncationConditions.items;
				if (itemsTruncationConditions && itemsTruncationConditions.length == 0) {
					itemsTruncationConditions = [ { index:0, value:undefined } ];
				}
				conditionIndex = 0;
				if (itemsTruncationConditions) {
					while ((+conditionIndex + 1) < itemsTruncationConditions.length && 0 >= itemsTruncationConditions[+conditionIndex + 1].index) conditionIndex++;
				}
				var recent = document.createElement("div");
				recent.className = "recent-main clearfix";

				var link = document.createElement("a");
				link.href = data.rr_data.items[0].linkURL;

				var img = document.createElement("img");
				img.src = RR.getImageURL(data.rr_data.items[0].imageURL, validParams.imageSize);
				img.className = "rr_omni_click";
				img.alt = data.rr_data.items[0].name;
				img.title = data.rr_data.items[0].name;
				img.className = "floatLeft";
				link.appendChild(img);
			    img.setAttribute("data-omniture", "_" + module_omniture_name + "1_" + "image");

				var infoSpan = document.createElement("span");
				infoSpan.className = "inline_block alter-rec-view";

				var textSpan = document.createElement("span");
				var textContainer = new INTERNAL_CORE.UI.PlainTextContainer(textSpan);
				textContainer.setLinesLimit(2);
				textContainer.setText(data.rr_data.items[0].name);
				textSpan.className = "rr_omni_click";
				textSpan.setAttribute("data-omniture", "_" + module_omniture_name + "1_" + "name");
				infoSpan.appendChild(textSpan);

                                if(data.rr_data.items[0].rating){
                                        var ratingScale = new RR.RatingBlock(data.rr_data.items[0].rating);
                                        ratingScale.className += " mg0";
                                        infoSpan.appendChild(ratingScale);
                                }
				

				link.appendChild(infoSpan);

				recent.appendChild(link);

                                if(data.rr_data.items[0].venueName && data.rr_data.items[0].venueURL){
                                        var outerSpan = document.createElement("span");
                                        outerSpan.className = "block txtRt";

                                        var innerSpan = document.createElement("span"); 
                                        innerSpan.className = "inline_block alter-rec-view txtLft";

                                        var strng = document.createElement("strong");
                                        var venueLink = document.createElement("a");
                                        venueLink.href = data.rr_data.items[0].venueURL;
                                        venueLink.innerHTML = data.rr_data.items[0].venueName;
                                        venueLink.className = "txtDefColor rr_omni_click";
					venueLink.setAttribute("data-omniture", "_" + module_omniture_name + "1_" + "venue");

                                        strng.appendChild(venueLink);
                                        innerSpan.appendChild(strng);
                                        outerSpan.appendChild(innerSpan);
                                        recent.appendChild(outerSpan);
                                }

				that.appendChild(recent);

				if (data.rr_data.items.length > 1) {
					var list = document.createElement("ul");
					var	li,
						textLink;
					for (var i = 1; i < data.rr_data.items.length; i++) {
						if (itemsTruncationConditions) {
							while ((+conditionIndex + 1) < itemsTruncationConditions.length && i >= itemsTruncationConditions[+conditionIndex + 1].index) conditionIndex++;
						}
						li = document.createElement("li");
						textLink = document.createElement("a");
						textLink.href = data.rr_data.items[i].linkURL;
						textLink.className = "rr_omni_click";
						textLink.innerHTML = truncateAndEmphasize(data.rr_data.items[i].name, itemsTruncationConditions ? itemsTruncationConditions[conditionIndex].value : undefined);
						textLink.setAttribute("data-omniture", "_" + module_omniture_name + (i+1));
						li.appendChild(textLink);
						if (i < data.rr_data.items.length - 1 && data.rr_data.items.length !== 2) {
						    li.innerHTML += ", ";
						}
						list.appendChild(li);
					}

					that.appendChild(list);	
				}
			}

			RR.AddOmnitureTracking(that);
			return that;
		};
	})();

	RR.initCarouselModules = function () {
	    (function($){

	        var $recsContainer = $('.recs-scontainer'),
	                $scrollingList = $('.recs-scrolling .rec-list'),
	                $recItem = $('.rec-item'),
	                $paginationNav = $('.rr-pagination-nav'),
	                $leftArrow = $('.rr-pagination-nav-left'),
	                $rightArrow = $('.rr-pagination-nav-right'),
	                $fader = $('.recs-fader'),
	                speed = 600,
	                activePage = null,
	                complete = 1;

	        $scrollingList.each(function(){
	            var qty = $(this).find($recItem).length,
	                    itemSize = $(this).find('.rec-item:nth-child(2)').outerWidth(true),
	                    width = (qty * itemSize) * 2;
	            $(this).css('width',width);
	        });

	        $('.recs').bind('swipeleft',function() {
	            var recSet = '#' + $(this).parent($recsContainer).attr('id');
	            scrollSet($rightArrow, recSet);
	        });
	        $('.recs').bind('swiperight',function() {
	            var recSet = '#' + $(this).parent($recsContainer).attr('id');
	            scrollSet($leftArrow, recSet);
	        });


	        $paginationNav.click(function(e) {
	            e.preventDefault();
	            var recSet = '#' + $(this).attr('data-set');
	            scrollSet($(this), recSet);
	        });

	        function scrollSet(nav, set) {

	            var visible = $(set).attr('data-visible'),
	                    page = $(set).attr('data-page'),
	                    itemSize = $(set).find('.rec-item:nth-child(2)').outerWidth(true),
	                    offset = itemSize * visible,
	                    paneLength = Math.ceil($(".rec-item",$(set)).length / visible),
	                    margin = parseInt($(set).find($scrollingList).css('marginLeft')),
	                    $itemsToMove,
	                    infinite = null
	                    ;

	            if (!complete) return;

	            if (nav.is($leftArrow)) {
	                page--;
	                if (page == 0) {
	                    $itemsToMove = $(".rec-item",$(set)).slice((-1)*visible);
	                    $itemsToMove.clone().prependTo($(set).find($scrollingList));
	                    margin = margin - offset;
	                    $(set).find($scrollingList).css({marginLeft: margin});
	                    page++;
	                    infinite = "left";
	                }
	                margin = margin + offset;
	            }
	            else if (nav.is($rightArrow)) {
	                page++;
	                if (page == paneLength) {
	                    $itemsToMove = $(".rec-item",$(set)).slice(0,visible);
	                    $itemsToMove.clone().appendTo($(set).find($scrollingList));
	                    page--;
	                    infinite = "right";
	                }
	                margin = margin - offset;
	            }

	            complete = 0;
	            activePage = '#rr-pagination_' + page;
	            $(set).find(activePage).addClass('rr-pagination-active');
	            $(set).find($scrollingList).animate({marginLeft: margin}, speed).promise().done(function(){
	                if (infinite == "right") {
	                    margin = margin + offset;
	                    $(set).find($scrollingList).css({marginLeft: margin});
	                    $itemsToMove.remove();
	                }
	                if (infinite == "right" || infinite == "left") $itemsToMove.remove();
	                complete = 1;
	            });
	            $(set).attr('data-page', page);

	        };
	    })(jQuery);
	};

	RR.sideblock = function(viewed, trending){
	    if(!RichRelevance.isWallpaper){
	    	RR.createSideBlocks({				viewed: false			,				trending: false		});
	    }
	}

	RR.fans_v3 = function(placement_data){	}

	RR.Bottom_block = function(recently_viewed_data, placement_data){	}
})();

RichRelevance.apiLoaded.resolve();
	//]]>
	</script><!-- Rich Relevance Integration end -->

<script language="JavaScript">
var member_name = GetCookie("MNAME");
var check1 = GetCookie("MID");
var member_text = "";
var action_text;
if( member_name ) {
    member_name = member_name.stripScripts().stripTags().escapeHTML();
}

if ( check1 == null || check1.length == 0 ) {
     member_text = "";
     action_text = "Log In";
     member_name = null;
}
else {
     if( member_name != 'null' ) {
         member_text = ", " + member_name;
     }
     action_text = "Log Out";
}

function buildLink( myFlag ) {
     if( myFlag == "log" ) {
         if ( check1 == null || check1.length == 0 ) {
             var theLink = "https://www.ticketmaster.com/member?";
         }
         else {
             var theLink = "https://www.ticketmaster.com/member/logout";
         }
         document.write( "<a href=\"" + theLink + "\" class=\"passive\">");
     }
     else {
          if( check1 != null || check1.length != 0 ) {
               var theLink = "https://www.ticketmaster.com/member/edit_subscriptions?tm_link=tm_alert_header";
          }
          else {
               var theLink = "http://www.ticketmaster.com/ticketalerts/?tm_link=tm_alert_header";
          }
          document.write( "<a href=\"" + theLink + "\" class=\"active\" title=\"Sign Up \/ Log In for TicketAlerts\">");
     }
}
</script>

<div id="site-header-anchor" class="absolute-no-bullet require_ie_fix">
  <div class="frame require_ie_fix relative">
    <ul id="site-nav-anchor">
      <li class="on" ><a href="http://www.ticketmaster.com/section?mch_link=tm_ticketmaster_logo_topnav" ><img src="http://media.ticketmaster.com/tm/en-us/img/sys/resale/tm-tab_126x35.png" alt="Ticketmaster" border="0" /></a></li>          <li>
              <a href="http://onenation.livenation.com/?mch_link=tm_LN_Content_topnav&ref=tm" 
                 data-omniExternalTrack="tm_LN_Content_topnav" 
                 id="lnContentTab" 
                 title="Live Nation Pics and Video">
                     <img src="http://media.ticketmaster.com/tm/en-us/img/sys/resale/picsvids-tab_126x35.png" alt="Live Nation Pics and Video" border="0" />
              </a>
          </li>    </ul>
    
<ul id="site-nav-anchor-secondary" class="require_ie_fix">        <li><iframe id="top_nav_tmplus_slot_350_35" width="350" scrolling="no" height="35" frameborder="0" marginwidth="0" marginheight="0" hspace="0" vspace="0"  allowtransparency="true" src="about:blank"  title="Advertisement content"></iframe>
        <script type="text/javascript">
          if ( TM.Ads ){
            TM.Ads.iframeAssets.push({  
               name: '#top_nav_tmplus_slot_350_35',
               src : 'http://ads.as4x.tmcs.ticketmaster.com/html.ng/Params.lifetime=30&site=tm&pagepos=604&adsize=350x35&page=event&dmaid=346&cceclassid=0&lang=en-us&brand=0'
            });
          }
        </script>
       </li>        <li><a href="http://www.ticketmaster.com/h/help.html?tm_link=tm_ql_1">Help</a></li></ul><!-- END site-nav-anchor-secondary -->  <div id="mini-search"></div>
  </div>
</div><div id="site-header" class="absolute-no-bullet">
  <div class="frame clearfix require_ie_fix" style="position:relative;z-index:100;">        <div class="floatLeft"><a href="http://www.ticketmaster.com/section?tm_link=tm_logo"><img src="http://media.ticketmaster.com/tm/en-us/img/sys/resale/tm-site-logo.png" alt="Ticketmaster Tickets" border="0" /></a></div><script language="javascript">
    var reg_ex = new RegExp("&eacute;","g");
    var replaceItem = '\u00E9';

var search_text = 'Enter Artist, Team, or Venue';
search_text = search_text.replace(reg_ex,replaceItem);

function verifySearchString(form) {
    if(form.q.value.replace(/^\s*|\s*$/g,'') == "" || form.q.value == search_text ){
        alert(checkUni("Please enter search text."));
        form.q.focus();
        form.q.value = "";
        return false;
    }
    if (typeof(edp) != "undefined" && edp.active_mode == 'isc' && edp.isc.cart.items.length) {
        return edp.isc.cart.leaving_isc_dialog.on_form_submit_attempt(form);
    }
}

function createSearchSuggestion(isSuperNavMiniSearch) {
    
    search_suggest = search_suggest || new SearchSuggest();
        Event.observe($('search_input'), 'keyup', function(event){
            showSuggestions(event);
        });        if(isSuperNavMiniSearch || 1){
            Event.observe($('search_input'), 'focus', function(event) {
                change_placeholder_color(this.id, search_text);
            });
        }    Event.observe($('search_input'), 'blur', function(event) {
        if ( this.value == '' ) {
            this.value = search_text;
            this.style.color ='#898989';
        }            if(isSuperNavMiniSearch || 1){
                change_placeholder_color(this.id, search_text);
            }        if ( global.get('cancel_hide') == 0 ) {
            var suggest = $("search-suggest") || $("searchSuggest") || $("search-suggest");
            if(suggest){
                suggest.hide();
            }
            $("searchSuggest-result").update('');
            updateInputText(this);
        }
    });
};

</script>

<span id="auto_suggest_id" class="hideContent">Auto-suggest. Use up and down arrow keys to select suggestions.</span>

<div id="site-search" >
  <span id="topNavSearchBlock">
    <form id="search_form" name="main_search" action="/search" autocomplete="off" onsubmit="return verifySearchString(this);">
        <input type="hidden" name="tm_link" value="tm_header_search" />
        <input id="search_id" type="hidden" />
        <input id="org_input" name="user_input" type="hidden" />
        <!-- Please DO NOT ADD ANY SPACES IN-BETWEEN search-wrap and search -->
        <span id="search-wrap" class="search-wrap"><input class="search-textfield placeholder" id="search_input" name="q" type="text" title="Search Ticketmaster by Artist, Team, or Venue" value="Enter Artist, Team, or Venue" aria-describedby="auto_suggest_id" /></span><input id="search" class="search-button" type="submit" value="Search" title="Search" alt="Search" /><input id="mini-search-button" class="search-button" style="display:none" type="submit" value="Search" title="Search" alt="Search" />
   </form>
   <div id="search-suggest" class="dd-list dd-list-suggest" style="display: none;">
       <div id="suggest-header">Top Suggestions</div>
       <ul class="absolute-no-bullet select-list-theme" id="searchSuggest-result">
       </ul>
       <div class="top-caret"></div>
   </div>
  </span>
</div><script type="text/javascript">
    (function($){
        createNamespace('TM.global_header');
        $.extend(TM.global_header, {
            TM_SEARCH_TOGGLE : "{\"omn_domain_owner\":\"TM_US:\",\"anchored_tab_enabled\":1}",
            TU : {
                searchPlaceholder: "Enter Artist, Team, or Venue" 
            }
        });
    }(jQuery));
</script><script>                createSearchSuggestion();</script><div role="navigation">
    <ul id="site-nav">
      <li role="presentation" class="dd-listener" data-navmenu-control="category">
        <button role="link" aria-haspopup="true" aria-expanded="false" id="category-button" class="nav-theme" data-navmenu-button="1"><span class="dd">Category</span></button>
        <!--  1st level -->
        <div id="cat-options" role="application" class="select-list-theme dd-list" data-navmenu-parent="1">
          <ul role="menu">
            <li role="presentation" class="dd-listener" id="music">
              <a role="menuitem" tabindex="0" aria-haspopup="true" href="http://www.ticketmaster.com/section/concerts?tm_link=tm_music_header" id="navLinkCat_music"><span >Music</span></a>
            </li>
            <li role="presentation" class="dd-listener" id="sports">
              <a role="menuitem" tabindex="-1" aria-haspopup="true" href="http://www.ticketmaster.com/section/sports?tm_link=tm_sports_header" id="navLinkCat_sports"><span >Sports</span></a>
            </li>
            <li role="presentation" class="dd-listener" id="arts">
              <a role="menuitem" tabindex="-1" aria-haspopup="true" href="http://www.ticketmaster.com/section/arts_theater?tm_link=tm_arts_header" id="navLinkCat_arts"><span >Arts & Theater</span></a>
            </li>
            <li role="presentation" class="dd-listener" id="family">
              <a role="menuitem" tabindex="-1" aria-haspopup="true" href="http://www.ticketmaster.com/section/family?tm_link=tm_family_header" id="navLinkCat_family"><span >Family</span></a>
            </li>
          </ul>
        <!-- end of 1st level -->
        <div class="top-caret"></div>
        </div>
      </li><li role="menuitem"><a href="http://www.ticketmaster.com/ticketdeals?tm_link=tm_ticketdeals_header" id="ticketdeals" title="Ticket Deals" class="nav-theme">Ticket Deals</a></li>    </ul>
    <ul id="site-options">    <li id="location-list" class="dd-listener" data-navmenu-control="location">
        <button role="button" id="location-button" class="nav-theme" data-navmenu-button="1" aria-expanded="false"><span class="dd" id="locName"></span></button>
        <div id="location-options" class="dd-list" data-navmenu-parent="1">
            <form action="/find_area" method="get" onsubmit="return verifyLocationString(this);">                    <div class="error mgBot10 bld" id="location_eror_blank" style="display:none;" role="alert">Error: please enter city or zip code or click "See All Cities" below.</div>
                                    <div class="error mgBot10 bld" id="location_eror_not_found" style="display: none" role="alert">Error: we could not find this location. Please check your entry (city name only or zip code) or click the "See All Cities" link below.</div>
                <label for="location_input" id="location_input_label">Change Location</label>
                                    <div class="mgBot10" id="location_eror_multiple" style="display: none" role="alert">We found multiple results matching "<div id="location_results" style="display: inline">keyword</div>".
                        <br>Please choose from the list below                    </div>
                <input id="location_input" autocomplete="off" class="placeholder" type="text" name="area" title="Enter City, Zip Code or follow the links below for All Cities or International sites." onFocus="this.select(value=''); change_placeholder_color(this.id, location_text);" onblur="if(this.value == '') this.value=location_text; change_placeholder_color(this.id, location_text);" value="Enter City or Zip Code" />
                <input type="submit" class="button button-large" value="Go" />
                <div style="display: none;" class="selectOption" id="location_eror_multiple_dropdown">
                    <div id="location_multiple_dropdown"></div>
                </div>
                <div></div>
                <input type="hidden" value="tm_changeloc_go" name="tm_link" />
            </form>
            <ul id="location-options-list">
                <li><a href="/find_area?uri=WaI-oYrwOLG3VXxTDLSv6GXqr3iNXwqTEUM73csoD6gLi3XgPv2J-LXvbvRCAw2SxIs2btTrf56GRrp61m2Ya-YlT-Lp4Kj5b1E8rZMdyT3EhzQgAaKAIJonZGDZ0dKlR4FO92ocFoK1ePrI--9oGta1OKRtN7hWBeEU&tm_link=tm_changeloc_cities">See All Cities</a></li>
                <li><a href="http://www.ticketmaster.com/international?tm_link=tm_changeloc_intl">International</a></li>
            </ul>
            <div class="top-caret"></div>
        </div>
    </li>
<script language=javascript>
            <!--
                var location_items = {
                    "Chicagoland & Northern IL": "Chicagoland, Northern IL & Northern Indiana",
                    "Cleveland, Youngstown & More": "Cleveland, Youngstown, Akron & More",
                    "Minneapolis/St. Paul & More": "Greater Minneapolis - Saint Paul Area",
                    "Iowa for LNUS": "Iowa",
                    "Memphis, Little Rock & More": "Memphis, Little Rock, Southhaven, Tupelo, Tunica & More",
                    "Northern New Jersey for LNUS": "Northern New Jersey",
                    "All of Canada": "Canada"
                };

                var my_market = "Virginia";
                
                var enter_to_change_location = " <span class='hideContent'>Enter to change location if needed.</span>";

                var location_box_market_name = GetCookie("MARKET_NAME");
                if( location_box_market_name ) {
                    location_box_market_name = location_box_market_name.base64decode().stripScripts().stripTags();
                }

                var targetElm = jQuery('#locName');
                var market_text = '';
                if( location_box_market_name ) {
                    my_market = location_box_market_name;
                }

                market_text = my_market.escapeHTML();

                targetElm.html(market_text);
                
                var hover_text = my_market;

                if (location_items[my_market]) {
                    hover_text = location_items[my_market];
                }

                jQuery("#location-button").attr("title", hover_text);
           //-->
        </script>

<li class="dd-listener" data-navmenu-control="myaccount">
  <button role="button" id="account-button" class="nav-theme" data-navmenu-button="1" aria-expanded="false"><span class="dd"></span> <span class="hideContent">Open My Account menu</span></button>      
  <div id="account-options" class="dd-list" data-navmenu-parent="1">            
            <ul id="account-list-options" class="select-list-theme bg-gradient">
                <li><a href="https://www.ticketmaster.com/member?tm_link=tm_myaccount_header_your_account">Your Account</a></li>
                <li><a href="https://www.ticketmaster.com/member/edit_profile?tm_link=tm_myaccount_header_edit_profile">Edit Profile</a></li>
                <li><a href="https://www.ticketmaster.com/member/edit_subscriptions?tm_link=tm_myaccount_header_email_mobile_preferences">Email & Mobile Preferences</a></li>                <li><a href="https://www.ticketmaster.com/member/payment_options?tm_link=tm_myaccount_header_edit_billing">Payment Options</a></li>                <li><a href="https://www.ticketmaster.com/member/order_history?tm_link=tm_myaccount_header_orders">Orders</a></li>
                <li><a href="https://www.ticketmaster.com/member/order_history?tm_link=tm_myaccount_header_print_my_tickets">Print My Tickets</a></li>                <li><a href="https://www.ticketmaster.com/member/order_history?tm_link=tm_myaccount_header_transfer_tickets">Transfer Tickets</a></li>            </ul>           
          <div class="top-caret"></div>
        </div>
</li> 
<script language="JavaScript"> 
var user_greeting = 'Hi ';
var is_home = '';
if( member_name ) {
    user_greeting += limit_with_dots(member_name, 12);
    jQuery('#account-button span.dd').text(user_greeting);
    
    jQuery('#account-button').mousedown(function(event){
        if(event.which === 1){
            window.location = 'https://www.ticketmaster.com/member?tm_link=tm_' + is_home + 'header_name';
        }
    });
    
} else {
    jQuery('#account-button span.dd').text('My Account');
    
    jQuery('#account-button').mousedown(function(event){
        if(event.which === 1){
            window.location = 'https://www.ticketmaster.com/member?tm_link=tm_' + is_home + 'header_my_account';
        }
    });
    
}
jQuery(document).ready(function($){ 
    //Checking status to determine button location
    if (check1 == null || check1.length == 0){
        $('#account-list-options').before('<div class="padded-action bg-gradient"><a href="https://www.ticketmaster.com/member?tm_link=tm_header_signin" class="button">Sign In</a></div>');
    } else if (check1){
        $('#account-list-options').after('<div class="padded-action bg-gradient"><a href="https://www.ticketmaster.com/member/logout/?tm_link=tm_header_signout" class="button-secondary">Sign Out</a></div>');
    }
    $('#account-button').live('keyup', function(){
        $('.padded-action').css('width',($('.padded-action').width())+'px');
    });
});
</script><li>
   <a href="https://www.ticketmaster.com/mycart?tm_link=tm_header_mycart" id="cart-button" class="nav-theme" style="text-decoration: none;"><span id="cart-balloon" class="cart-basket-total"></span></a>
</li><script type="text/javascript" language="JavaScript">
//<![CDATA[
{
    var count = GetCookie("MYCART_COUNT") || 0;
    if ( count >= 0 ) {        $$('.cart-basket-total')[0].innerHTML = [ 
            '<span class="hideContent"> items in your cart</span>', ' <span class="cart_total_items">', count, '</span>'           
        ].join('');    }
    else {        $$('.cart-basket-total')[0].innerHTML = '';
    }
    if ($('shopCart')){
        $('shopCart').show();
    }
}
//]]>
</script>
    </ul>
  </div>
 </div>
</div>        <div id="contentWrap">
            <div class="frame">    <div id="side-module-wrap">
       <div class="inline_block_ie7 side-module" id="side-module" style="display:none"></div>
    </div>                <div id="mainContent"         itemscope="itemscope" itemtype="http://schema.org/Event">

















<script type='text/javascript'><!--
function return_to_third_party( user_action, third_party_index ) {
    var return_form = document.getElementById( 'third_party_return_form_' + third_party_index );
    
    var elAction = document.getElementById( 'third_party_user_action_' + third_party_index );
    elAction.setAttribute( 'value', user_action );
    
    return_form.submit();
};
// -->
</script>
<div id="artistContainer"><div id="artist_container" class="artistContentBox">
    <div class="artistPicture"><!-- artist info -->
    </div>    <div class="artistContent" style="width: 300px; float: left; padding-left: 20px">            <h3>Sorry, but this event no longer exists in our database.</h3>    </div>
    <div class="floatRight" style="width: 205px; height: 115px;">
    </div>
    <div class="divSpacer"></div>
</div end artist_container>  <div class="spacer15px"></div>
</div>
<div id="tabContent">
    <div id="left-section">
        <div class="featured-block color-alt">
            <div class="featured-lid color-alt">
                <h2 id="purchase_task_title">Tickets Not Available Online</h2>
            </div featured-lid><div id="event_not_onsale">
  <div class="featured-container">    <div id="event_not_available_text">      <p><strong>Tickets are currently not available online for one of the following reasons. Please check back for availability.</strong></p>
      <ul>
        <li>Tickets may not be on sale yet</li>
        <li>Tickets may not be available at this time. More tickets may become available later</li>
        <li>Tickets may not be available online just hours before an event occurs</li>
        <li>On rare occasions, tickets may only be available at ticket outlets or the box office</li>
      </ul>    </div>    <div class="hrline">&nbsp;</div>

    <p><strong>Sign up for My Ticketmaster and customize your own unique, personalized page where you can:</strong></p>
    <ul>
      <li>Store your information for faster checkout.</li>
      <li>View all your account activities in one convenient place.</li>
      <li>Get TicketAlert<sup>&reg;</sup> emails for your favorite artists, teams &amp; Venues.</li>
      <li>Find hot events in your area.</li>
    </ul>

    <div id="not_onsale_submit_box">
      <div class="featured-actionbox">
        <input id="not_onsale_create_account" type="button" value="Create Account" onclick="window.location='https://www.ticketmaster.com/member'" class="button" />
      </div featured-actionbox>
    </div>
  </div>
</div>        </div>
    </div left-section>

    <div id="right-section">
    </div right-section>

    <div class="clear"></div>
</div tabContent>
<script type="text/javascript">
window.onload = function() {
    if (TM.Ads && typeof TM.Ads.iframeAssets != "undefined" && TM.Ads.iframeAssets.length > 0){
       jQuery.each(TM.Ads.iframeAssets, function(i,k){
           if( jQuery( k.name ).length > 0 && k.src ){
              if ((this.name) == "#edp_leaderboard"){
                  this.src = appendTransID(this.src, true);
              }
              ( function(o){
                   setTimeout( function() { 
                       jQuery( o.name ).attr("src", o.src ) 
                   } , 200 );
               }(k) )
           }
       })
    }
}

</script>                    <div class="clear"></div>
                </div end maincontent>
                <div id="placement2" class="top-selling"></div>
                <div id="placement3" class="top-selling"></div>            </div end frame>
        </div end contentWrap>
        <div id="footerTop">
            <div class="frame footer_five_col"><!-- START NEW FOOTER CODE -->
			<style>
				.nomargin{
					margin: 0;
				}
			</style>    <style type="text/css">
    #footerTop .frame div { margin-left: 58px;}
    </style><style>
	.nomargin{
		margin: 0;
	}
</style>
    <div class="first">
        <p class="h5 allCaps nomargin"><strong>FOLLOW US</strong></p>
        <ul class="icons-list">
            <li><a href="http://facebook.com/Ticketmaster" target="_blank" rel="nofollow"><img src="http://media.ticketmaster.com/tm/en-us/img/sys/1000/logoFB_18x18.gif" alt="Follow us on Facebook"><span>Facebook</span></a></li>
            <li><a href="http://twitter.com/ticketmaster" target="_blank" rel="nofollow"><img src="http://media.ticketmaster.com/tm/en-us/img/sys/1000/logoTwit_18x18.gif" alt="Follow us on Twitter" /><span>Twitter</span></a></li>
            <li><a href="https://plus.google.com/115274411439372300072?prsrc=3" target="_blank" rel="nofollow publisher"><img src="http://media.ticketmaster.com/tm/en-us/img/sys/1000/logoGPlus_18x18.gif" alt="Google+" /><span>Google Plus</span></a></li>
        </ul>        <p class="h5 allCaps nomargin"><strong>Download App</strong></p>
        <ul class="icons-list">
            <li><a href="http://www.ticketmaster.com/mobile?tm_link=tm_i_mobile" target="_blank" rel="nofollow"><img src="http://media.ticketmaster.com/tm/en-us/img/sys/1000/logoTMApp_18x18.gif" alt="Download Ticketmaster App"><span>iPhone &amp; Android</span></a></li>
        </ul>    </div><!-- end column1 -->            <div>
		<p class="h5 allCaps nomargin"><strong>About Us</strong></p>
                <ul>
                    <li><a href="http://www.ticketmaster.com/about/about-us.html?tm_link=tm_i_abouttm">Who We Are</a></li> 
                    <li><a href="http://www.ticketmaster.com/ourguarantee?tm_link=tm_i_guarantee">Our Fan Guarantee</a></li>
                    <li><a href="http://blog.ticketmaster.com?tm_link=tm_i_ticketology">Ticketmaster Blog</a></li>
                    <li><a href="http://www.ticketmaster.com/international?tm_link=tm_i_intl">Across the Globe</a></li>
                    <li><a href="http://www.ticketmaster.com/retail-outlets/?tm_link=tm_i_retail_locations">Retail Outlets</a></li>
                    <li><a href="http://www.ticketmaster.com/careers/?tm_link=tm_i_careers">Careers</a></li>
                </ul>
            </div><!-- end column2 -->
            <div>
                <p class="h5 allCaps nomargin"><strong>WE'RE HERE TO HELP</strong></p> 
                <ul>
                    <li><a href="https://www.ticketmaster.com/member?tm_link=tm_i_ma" rel="nofollow">Your Account</a></li>
                    <li><a href="https://www.ticketmaster.com/member/order_history?tm_link=tm_i_print" rel="nofollow">Print Tickets</a></li>
                    <li><a href="http://www.ticketmaster.com/h/returns.html?tm_link=tm_i_rp">Refund Policy</a></li>
                    <li><a href="http://www.ticketmaster.com/h/delivery.html?tm_link=tm_i_sr">Shipping Options</a></li>
                    <li><a href="http://www.ticketmaster.com/h/help.html?tm_link=tm_i_help">Help</a></li>
                </ul>
            </div><!-- end column3 -->
            <div>
                <p class="h5 allCaps nomargin"><strong>OUR NETWORK</strong></p>  
                <ul>
                    <li><a href="http://www.livenation.com/" target="_blank">Live Nation</a></li>
                    <li><a href="http://www.houseofblues.com/" target="_blank">House of Blues</a></li>                    <li><a href="http://www.ticketweb.com/" target="_blank">TicketWeb</a></li>
                    <li><a href="http://www.smelivenation.com/" target="_blank" title="External website opens in a new window" role="link">SME Entertainment</a></li>                </ul>
            </div><!-- end column4 -->
            <div>
                <p class="h5 allCaps nomargin"><strong>BE A PART OF IT</strong></p>
                <ul>
                    <li><a href="http://www.ticketmaster.com/ticketyourevent/?tm_link=tm_i_ticketyourevent" target="_blank" rel="nofollow">Ticket Your Event</a></li><li><a href="http://www.ticketmaster.com/microsite/customtickets?tm_link=tm_i_customtix">Custom Tickets</a></li>                </ul>
            </div><!-- end column5 -->
            <div class="clear"></div>
        </div><!-- end frame -->
        </div><!-- end footerTop -->

        <div id="footerBottom">
        <a href="http://www.ticketmaster.com/section?tm_link=tm_i_home" id="bottomLogo"><img src="http://media.ticketmaster.com/tm/en-us/img/sys/1000/logoBottom.png" alt="Ticketmaster.com" /></a>
        <div class="allCaps mgBot15 txt12 bld">By continuing past this page, you agree to our <a href="http://www.ticketmaster.com/h/terms.html?tm_link=tm_i_terms" class="under" rel="nofollow">terms of use</a>.</div>            <div class="mgBot10"><a href="http://www.sap.com/index.html" role="link" title="Sponsored by SAP" target="_blank"><img src="http://media.ticketmaster.com/tm/en-us/img/sys/1000/sponsor-sap.png" alt="Sponsored by SAP" /><span class="hideContent">External website. Opens in a new window</span></a></div>        <span class="allCaps">International:</span>
        <ul class="footerBottomLinksList"><li><a href="http://www.ticketmaster.ca/" target="_blank">Canada</a></li> <li><a href="http://www.ticketmaster.co.uk/" target="_blank">UK</a></li> <li><a href="http://www.ticketmaster.ie/" target="_blank">Ireland</a></li> <li><a href="http://www.ticketmaster.es/" target="_blank">Spain</a></li> <li><a href="http://www.ticketmaster.com.mx/" target="_blank">Mexico</a></li> <li><a href="http://www.ticketmaster.com.au/" target="_blank">Australia</a></li> <li><a href="http://www.ticketmaster.com/international?tm_link=tm_homeA_i_more" class="space">More</a></li>        </ul>
        <span class="allCaps">PARTNERS:</span>
        <ul class="footerBottomLinksList">
        <li><a href="http://www.ticketmaster.com/americanexpress/?tm_link=amex_footer">American Express</a></li>
        <li><a href="http://www.nba.com/tickets/tickets.html" target="_blank" rel="nofollow">NBA</a></li>
        <li><a href="http://www.nfl.com/tickets" target="_blank">NFL</a></li>
        <li><a href="http://www.nhl.com/ice/tickets.htm" target="_blank" rel="nofollow">NHL</a></li>
        <li><a href="http://www.slotix.com/" class="space" target="_blank">SLO VIP Services</a></li>
        </ul>
        <div class="clear"></div>
        <ul class="footerBottomLinksList"><li><a href="http://www.ticketmaster.com/sitemap?tm_link=tm_i_sitemap" class="left">Site Map</a></li> <li><a href="http://www.ticketmaster.com/h/privacy.html?tm_link=tm_i_pp" rel="nofollow">Privacy Policy</a></li><li><a href="http://www.ticketmaster.com/h/ad-choices.html?tm_link=tm_i_adchoices"  rel="nofollow">AdChoices</a></li></ul>&nbsp;

<!-- END NEW FOOTER CODE --> 
<!-- end footerBottom -->


        <p>&copy; 1999-2014 Ticketmaster. All rights reserved.</p>    <a target="_blank" role="link" title="TRUSTe European Safe Harbor certification" href="http://privacy.truste.com/privacy-seal/Live-Nation-Entertainment/validation?rid=84e9beec-aa90-44e5-80ae-9aa709ca9c75"><img src="http://media.ticketmaster.com/tm/en-us/img/sys/1000/truste_seal_70x22.gif" alt="TRUSTe Certified Privacy" /></a>                </div frame>
        </div>
        
<script language="JavaScript">
jQuery(document).ready(function($) {

  var caretPos = $("#site-nav li:first-child").width() - 15;
     $("#site-nav .top-caret").css("left", caretPos);

     var MenuSiteNavNFB = function(opts)
     {
         var sn = Class.create(MenuSiteNavNFB.prototype);
         sn.options = {
             navContainer  : $('#site-header'),
             menuContainer : opts,
             parentMenu    : $(opts).find('[data-navmenu-parent]'),
             button        : $(opts).find('[data-navmenu-button]'),
             timer         : {subref : {}, ref : {}, num : 400, xnum : 1000},
             timeExtension : { location : true }
         };
         sn.keyPresses = {
             toggleKeyCodes : [39, 27, 37],
             selectKeyCodes : [38, 40]
         };
         var nC = sn.options.navContainer, mC = sn.options.menuContainer, tmr = sn.options.timer;
         /* create the handlers & class */
         sn.eventsSetup = function(){
           
             sn.options.button.bind('click', function(e) {
               e.stopPropagation();
               clearTimeout(tmr.ref);
                $(this).addClass('on').attr('aria-expanded', true);
                ('.dd-list',sn.options.parentMenu).not(':visible').toggle();
                sn.options.parentMenu.find(".dd-list:visible").toggle();
                sn.options.parentMenu.find('ul li:first > a').addClass('on').focus();
                if(!member_name){
                    sn.options.parentMenu.find('.padded-action a').focus();
                }
                sn.options.parentMenu.find('input[type=text]').focus();                
              });
              
              
              sn.options.button.bind('focus', function(e) {
                e.stopPropagation();
                clearTimeout(tmr.ref);
                sn.hideParentMenu();
              });
           
             sn.options.button.bind('focusin mouseenter',function(e) {
                 e.stopPropagation();
                 clearTimeout(tmr.ref);
                 tmr.ref = setTimeout(function(){
                      ('.dd-list',sn.options.parentMenu).not(':visible').toggle()
                      sn.options.parentMenu.find(".dd-list:visible").toggle();
                 }, tmr.num);
             $(mC).bind('mouseleave',function(event){
                     event.stopPropagation();
                     sn.hideParentMenu();
                 }).mouseenter(function(){
                     clearTimeout(tmr.ref);
                 })
             $(nC).find('a,button,input').not($(mC).find('*'))
                 .bind('focusin mouseenter',function(event){
                     sn.hideParentMenu(100);
                 });
                 sn.subMenuPrep();
             })
         };

         /* hide main dropdown & any sub/menus & class */
         sn.hideParentMenu = function(options,e){
             clearTimeout(tmr.ref);
             var options = options || false;
             var uniqueNum = options ? options : (sn.options.timeExtension[$(mC).attr('data-navmenu-control')] ? tmr.xnum : tmr.num);
             tmr.ref = setTimeout(function(){
                 sn.options.button.removeClass('on').attr('aria-expanded', false);
                 if(sn.options.parentMenu.attr("id")=="cat-options"){
                     $("#cat-options .dd-listener>a.on").removeClass("on");
                 }
                 $(mC).find('.dd-list:visible').toggle();
             }, uniqueNum);
         };

         /* bind any sub|child menus & class */
         sn.subMenuPrep = function(){
             subMenus = sn.options.parentMenu.find("ul").eq(0).children() || {};
            // Remove any current event handlers
            $(".dd-listener").find("a,input").unbind('keydown');
            $(subMenus).unbind();

            // Event for escape key
             $(".dd-listener").find("a,input").bind('keydown', function(e){
                if(e.which === 27) {
                  sn.hideParentMenu();
                  $(this).parents(".dd-listener").find(".nav-theme").focus();
                  return false;
                }
              });
             
             $.each(subMenus, function(){
                 // remove focus event. Tabing should not auto open submenu
                 $(this).bind('mouseover',function(event){
                     clearTimeout(tmr.ref);
                     event.stopPropagation();
                     sn.options.button.addClass('on');
                     if($(this).closest(".dd-list").attr("id") == "cat-options") {
                        $(".dd-listener >a.on").removeClass("on");
                        $(this).find(">a").addClass("on");
                     }
                     if(!$.isEmptyObject(tmr.subref)){
                         $.each(tmr.subref, function (idx, val) { 
                             clearTimeout(val); });
                     }
                     var that = this;
                     tmr.subref.one = setTimeout(function(){ 
                         subMenus.find(".dd-list:visible").not($(that).find('div.dd-list')).toggle();
                         $(that).find('.dd-list:hidden').toggle() 
                      }, tmr.num);
                });

                // Keyboard controls
                $(this).bind('keydown', function(event) {
                  var keyCode = event.which;
                  // Open / Close menu
                  if(sn.keyPresses.toggleKeyCodes.indexOf(keyCode) != -1) {
                    event.preventDefault();
                    sn.toggleMenu(event, keyCode);
                  }
                  // Traverse menu
                  if(sn.keyPresses.selectKeyCodes.indexOf(keyCode) != -1) {
                    event.preventDefault();
                    sn.selectMenu($(event.target), keyCode);
                  }
                });
             });
         };
          // Control menu position with up / down arrow keys
          // Also determines if it needs to jump to other sub-cols navs
          sn.selectMenu = function($target, keyCode) {
            var $catListItems = $target.closest('ul').find('>li');
            var $element = $target.parent();
            var $isSubCol;
            $catListItems.find('>a')
              .attr('tabindex', -1)
              .removeClass('on');
            if(keyCode == 38) {
              if(!$element.is(':first-child')) {
                $element = $target.parent().prev();
              } else {
                $isSubCol = $target.closest('.sub-col').prev();
                $element = sn.selectSubMenu($element, $isSubCol);
                $element = $element.last();
              }
            }
            if(keyCode == 40) {
              if(!$element.is(':last-child')) {
                $element = $target.parent().next();
              } else {
                $isSubCol = $target.closest('.sub-col').next();
                $element = sn.selectSubMenu($element, $isSubCol);
                $element = $element.first();
              }
            }
            $element.find('>a')
              .attr('tabindex', 0)
              .addClass('on')
              .focus();
          }
          // Jump into next sub-col nav if available
          sn.selectSubMenu = function($element, $subCol) {
            if($subCol.find('ul').length) {
              $element = $subCol.find('ul li');  
            }
            return $element;
          }
          // Open / Close based on right / left arrow keys
          sn.toggleMenu = function(event, keyCode){
            var $element = $(event.target).parent();
            var $listItem = $(event.currentTarget);
            var $sublist = $element.find('.dd-list');
            if(keyCode == 39) {
              $sublist.attr({'aria-expanded': true}).show();
              $element.find('ul[role="menu"]:first li:first a').focus();
            }
            if(keyCode == 27 || keyCode == 37) {
              $(event.currentTarget).find('.dd-list').attr({'aria-expanded': false}).hide();
              $(event.target).removeClass('on');
              $listItem.find('a:first-child').focus();  
            }
          } 

         sn.init = function(){
             $.extend(sn.options, opts);
             sn.eventsSetup();
         };

         sn.init();
         return sn;
     };

     var activateMenusDisplay = $(document).find("[data-navmenu-control]").toArray().map(MenuSiteNavNFB);
})
</script>
                <script language="JavaScript">
var menu_data = $H();
var NavMenu = Class.create({
    initialize: function() {
        this.genres = {
            "10001" : {
                "root_name" : "All Music",
                "Alternative Rock" : "60",                    
                "Cabaret" : "764",                    
                "Classical" : "203",                    
                "Comedy" : "51",                    
                "Country and Folk" : "2",                    
                "Dance/Electronic" : "201",                    
                "Festivals" : "766",                    
                "Hard Rock/Metal" : "200",                    
                "Jazz and Blues" : "4",                    
                "Latin" : "40",                    
                "Miscellaneous" : "107",                    
                "New Age and Spiritual" : "50",                    
                "R&B/Urban Soul" : "202",                    
                "Rap and Hip-Hop" : "3",                    
                "Rock and Pop" : "1",                    
                "World Music" : "5",                    
                "More Concerts" : "52"                    
            },        
            "10004" : {
                "root_name" : "All Sports",
                "Baseball" : "10",                    
                "Basketball" : "7",                    
                "Boxing" : "33",                    
                "Bull Riding" : "61",                    
                "Competitions" : "206",                    
                "Curling" : "34",                    
                "Field Sports" : "205",                    
                "Football" : "8",                    
                "Golf" : "30",                    
                "Handball" : "765",                    
                "Hockey" : "9",                    
                "Lacrosse" : "35",                    
                "Mixed Martial Arts" : "830",                    
                "Motorsports" : "25",                    
                "Rodeo" : "28",                    
                "Skating" : "36",                    
                "Soccer" : "11",                    
                "Sports Packages" : "267",                    
                "Tennis" : "31",                    
                "Volleyball" : "204",                    
                "Wrestling" : "27",                    
                "More Sports" : "102"                    
            },        
            "10002" : {
                "root_name" : "All Arts & Theater",
                "Off-Broadway" : "17",                    
                "Ballet and Dance" : "12",                    
                "Classical" : "203",                    
                "Comedy" : "51",                    
                "Museums and Exhibits" : "14",                    
                "Musicals" : "207",                    
                "Opera" : "13",                    
                "Plays" : "32",                    
                "More Arts and Theater" : "53"                    
            },        
            "10003" : {
                "root_name" : "All Family",
                "Children&#39;s Music and Theater" : "23",                    
                "Circus" : "29",                    
                "Fairs and Festivals" : "54",                    
                "Family Attractions" : "19",                    
                "Ice Shows" : "22",                    
                "Magic Shows" : "209",                    
                "More Family" : "55"                    
            },        
            "10005" : {
                "root_name" : "All Miscellaneous",
                "Audio Tours" : "240",                    
                "Camping" : "211",                    
                "Casino" : "57",                    
                "Concession Vouchers" : "239",                    
                "Cruise and Sightseeing" : "106",                    
                "Dinner Package" : "238",                    
                "Donations" : "109",                    
                "Expo/Convention" : "105",                    
                "Gift Certificates" : "56",                    
                "Hotel Reservations" : "210",                    
                "Lecture/Seminar" : "104",                    
                "Merchandise" : "108",                    
                "Merchandise Vouchers" : "242",                    
                "Movies" : "59",                    
                "Parking" : "103",                    
                "Restaurants" : "58",                    
                "More Miscellaneous" : "0"                    
            }        
        };
        this.popular_events;
        this.popular_genres = {
            "10001" : {
                "popular" : {},
                "track" : "music",
                "section" : "concerts",
                "browse" : "music",
                "menu" : "music_menu"
            },
            "10002" : {
                "popular" : {},
                "track" : "arts",
                "section" : "arts_theater",
                "browse" : "arts",
                "menu" : "arts_menu"
            },
            "10003" : {
                "popular" : {},
                "track" : "family",
                "section" : "family",
                "browse" : "family",
                "menu" : "family_menu"
            },
            "10004" : {
                "popular" : {},
                "track" : "sports",
                "section" : "sports",
                "browse" : "sports",
                "menu" : "sports_menu"
            },
            "10005" : {
                "popular" : {},
                "track" : "specials",
                "section" : "miscellaneous",
                "browse" : "miscellaneous",
                "menu" : "especiales_menu"
            },
            "10012" : {
                "popular" : {},
                "track" : "specials",
                "section" : "toros",
                "browse" : "toros",
                "menu" : "toros_menu"
            }
        };
        this._get_data();
    },
    _get_data: function() {
        var dma_id;
            dma_id = GetCookie('NDMA') ? GetCookie('NDMA') : 99999;
        getMenu('/json/search/genremenu', menu_data, 'popular_genres', { dma_id : dma_id, lang: 'en-us' });
        getMenu('/json/menu', menu_data, 'popular_events', { domain_id: '1', brand: '' });
        new PeriodicalExecuter(
            function(pe) {
                if( menu_data.get('popular_genres') && menu_data.get('popular_events') ) {
                    pe.stop();
                    var genre_data = menu_data.get('popular_genres');
                    $H(this.popular_genres).values().each( function(g) {
                        var hist_list = g.browse.capitalize() + 'BrowseGenre';
                        if( genre_data[ hist_list ] ) {
                            g.popular = genre_data[ hist_list ].reject( function(n){ return Object.isNumber(n) });
                        }
                        else {
                            g.popular = null;
                        }
                    }.bind(this) );
                    this.popular_events = menu_data.get('popular_events');
                    this._build_menu();
                }
                else if( menu_data.get('popular_events') ) {
                    pe.stop();
                    this.popular_events = menu_data.get('popular_events');
                    this._build_menu();
                }
                else if( menu_data.get('popular_genres') ) {
                    pe.stop();
                    var genre_data = menu_data.get('popular_genres');
                    $H(this.popular_genres).values().each( function(g) {
                        var hist_list = g.browse.capitalize() + 'BrowseGenre';
                        if( genre_data[ hist_list ] ) {
                            g.popular = genre_data[ hist_list ].reject( function(n){ return Object.isNumber(n) });
                        }
                        else {
                            g.popular = null;
                        }
                    }.bind(this) );
                    this._build_menu();
                }
            }.bind(this), 1
        );
    },
     _build_menu: function () {
        $H(this.popular_genres).keys().each(
            function(cat) {
                var t_div, c_div, idRef = this.popular_genres[cat].track;
                if ( (this.popular_events && this.popular_events[cat] && Object.keys(this.popular_events[cat].links).length) || (this.popular_genres[cat].popular && this.popular_genres[cat].popular.length) ) {
                    var size = 0;
                    var add_class;
                    if( this.popular_events && this.popular_events[cat] && $H(this.popular_events[cat]).size() > 0 ) {
                        size += 1;
                    }
                    if( this.popular_genres[cat].popular && this.popular_genres[cat].popular.length ) {
                        size += 1;
                    }
                    var d_div = new Element('div', { 
                      'class': 'dd-list',
                      id: 'subNav_' + this.popular_genres[cat].menu
                    });
                    if( this.popular_genres[cat].popular && this.popular_genres[cat].popular.length ) {
                        t_div = new Element('div' , { 'class': 'sub-col' } );
                        var cat_hdr_txt = cat == '10005' ? '' : 'Shop Top Categories';
                        var cat_hdr = new Element('b', {'role':'heading'}).update( cat_hdr_txt );
                        t_div.appendChild( cat_hdr );
                        var g_ul = new Element('ul', {'role' : 'menu'});
                        this.popular_genres[cat].popular.each(
                            function(d, idx) {
                                idx += 1;
                                var cat_view = Object.isUndefined(this.genres[cat][d]) ? cat : this.genres[cat][d];
                                var li = new Element('li', {'role' : 'presentation'});
                                
                                if (typeof browseLinks == 'undefined') {
                                    var link = new Element('a', {
                                      href:'http://www.ticketmaster.com/browse?category=' + cat_view + '&root=' + cat + '&rdc_select=n93&dma=346&type=selected&tm_link=tm_' + idRef + '_header_l' + idx,
                                      'role' : 'menuitem',
                                      'tabindex' : '-1'
                                      });
                                } else {
                                    var link = new Element('a', {href: 'http://www.ticketmaster.com' + browseLinks.composeUrl({
                                        categoryName: d,
                                        category: cat_view,
                                        root: cat,
                                        dma: "346",
                                        queryParams: {
                                            rdc_select: "n93",
                                            type: "selected",
                                            tm_link: "tm_" + idRef + "_header_l" + idx
                                        }
                                      })
                                    });
                                    jQuery(link).attr({
                                      'role' : 'menuitem',
                                      'tabindex' : '-1'
                                    });
                                }

                                li.update(link);
                                link.update( d );
                                g_ul.appendChild( li );
                            }.bind(this)
                        );
                        var li = new Element('li', {'role': 'presentation'});
                        var see_more = new Element('a', {
                          href:'http://www.ticketmaster.com/section/' + this.popular_genres[cat].section + '?tm_link=tm_' + idRef + '_header_lmore', 'style': 'font-weight: bold', 'class': 'see_all', 'role' : 'menuitem', 'tabindex': '-1'}).update("See All <span class='hideContent'>" + this.popular_genres[cat].browse + "</span>");
                        li.appendChild( see_more );
                        g_ul.appendChild( li );
                        t_div.appendChild( g_ul );
                    }
                    if( this.popular_events && this.popular_events[cat] && Object.keys(this.popular_events[cat].links).length ) {
                        c_div = new Element('div' , { 'class': 'sub-col' } );
                        var show_hdr_txt = cat == '10004' ? "Popular Events" : "Popular Shows";
                        var show_hdr = new Element('b', {'role':'heading'}).update( show_hdr_txt );
                        c_div.appendChild( show_hdr );
                        var e_ul = new Element('ul', {'role' : 'menu'});
                        Object.keys(this.popular_events[cat].links).sort(_sortNumber).each(
                            function(d, idx) {
                                idx += 1;
                                var link_value = this.popular_events[cat].links[d].link;
                                if( !link_value.toString().startsWith('http') ) {
                                    link_value = 'http://www.ticketmaster.com' + link_value;
                                }
                                var tm_link_value = 'tm' + '_' + idRef + '_header_r' + idx;

                                if( link_value.include('?') ) {
                                    link_value += '&tm_link=' + tm_link_value;
                                }
                                else {
                                    link_value += '?tm_link=' + tm_link_value;
                                }
                                var li = new Element('li', {'role' : 'presentation'});
                                var link = new Element('a', {
                                  href: link_value,
                                  'role' : 'menuitem',
                                  'tabindex' : '-1'
                                });
                                link.update( this.popular_events[cat].links[d].link_text.toString().strip() );
                                li.update(link);
                                e_ul.appendChild( li );
                            }.bind(this)
                        );
                        c_div.appendChild( e_ul );
                    }
                    if( size > 0 && $( idRef ) ) {
                        if(t_div){ d_div.appendChild( t_div ); }
                        if(c_div){ d_div.appendChild( c_div ); }
                        $( idRef ).appendChild( d_div );
                        if(jQuery("#" + idRef).find("ul").length === 1){
                           jQuery("#" + idRef + " div:first" ).addClass('one-col');
                        };
                    }
                }
            }.bind(this)
        );
    }});
function makeNav() {
    new NavMenu();
}

function _sortNumber(a,b) {
     return a - b;
}

document.observe("dom:loaded",makeNav);
</script>
<script type="text/javascript">
var browseLinks = (function() {
    var _self = {
        defaultLinkType: 'seo',
        excludedKeys: ['category', 'root', 'dma', 'dma_id'],
        sortKeys: false,
        sortKeysArr: ['category', 'root', 'dma', 'dma_id', 'area', 'rdc_select', 'rds_smonth', 'rdc_sday', 'rdc_syear', 'rdc_emonth', 'rdc_eday', 'rcd_eyear', 'telval', 'type']
    };
    _self.genres = {
        "10001" : {
            "root_name" : "Music",
            "cat_10001" : "All Music",
            "Music" : 10001,
            "All Music" : 10001,
                "Alternative Rock" : 60,
                "cat_60" : "Alternative Rock",            
                "Cabaret" : 764,
                "cat_764" : "Cabaret",            
                "Classical" : 203,
                "cat_203" : "Classical",            
                "Comedy" : 51,
                "cat_51" : "Comedy",            
                "Country and Folk" : 2,
                "cat_2" : "Country and Folk",            
                "Dance/Electronic" : 201,
                "cat_201" : "Dance/Electronic",            
                "Festivals" : 766,
                "cat_766" : "Festivals",            
                "Hard Rock/Metal" : 200,
                "cat_200" : "Hard Rock/Metal",            
                "Jazz and Blues" : 4,
                "cat_4" : "Jazz and Blues",            
                "Latin" : 40,
                "cat_40" : "Latin",            
                "Miscellaneous" : 107,
                "cat_107" : "Miscellaneous",            
                "New Age and Spiritual" : 50,
                "cat_50" : "New Age and Spiritual",            
                "R&B/Urban Soul" : 202,
                "cat_202" : "R&B/Urban Soul",            
                "Rap and Hip-Hop" : 3,
                "cat_3" : "Rap and Hip-Hop",            
                "Rock and Pop" : 1,
                "cat_1" : "Rock and Pop",            
                "World Music" : 5,
                "cat_5" : "World Music",            
                "More Concerts" : 52,
                "cat_52" : "More Concerts"            
        },    
        "10004" : {
            "root_name" : "Sports",
            "cat_10004" : "All Sports",
            "Sports" : 10004,
            "All Sports" : 10004,
                "Baseball" : 10,
                "cat_10" : "Baseball",            
                "Basketball" : 7,
                "cat_7" : "Basketball",            
                "Boxing" : 33,
                "cat_33" : "Boxing",            
                "Bull Riding" : 61,
                "cat_61" : "Bull Riding",            
                "Competitions" : 206,
                "cat_206" : "Competitions",            
                "Curling" : 34,
                "cat_34" : "Curling",            
                "Field Sports" : 205,
                "cat_205" : "Field Sports",            
                "Football" : 8,
                "cat_8" : "Football",            
                "Golf" : 30,
                "cat_30" : "Golf",            
                "Handball" : 765,
                "cat_765" : "Handball",            
                "Hockey" : 9,
                "cat_9" : "Hockey",            
                "Lacrosse" : 35,
                "cat_35" : "Lacrosse",            
                "Mixed Martial Arts" : 830,
                "cat_830" : "Mixed Martial Arts",            
                "Motorsports" : 25,
                "cat_25" : "Motorsports",            
                "Rodeo" : 28,
                "cat_28" : "Rodeo",            
                "Skating" : 36,
                "cat_36" : "Skating",            
                "Soccer" : 11,
                "cat_11" : "Soccer",            
                "Sports Packages" : 267,
                "cat_267" : "Sports Packages",            
                "Tennis" : 31,
                "cat_31" : "Tennis",            
                "Volleyball" : 204,
                "cat_204" : "Volleyball",            
                "Wrestling" : 27,
                "cat_27" : "Wrestling",            
                "More Sports" : 102,
                "cat_102" : "More Sports"            
        },    
        "10002" : {
            "root_name" : "Arts & Theater",
            "cat_10002" : "All Arts & Theater",
            "Arts & Theater" : 10002,
            "All Arts & Theater" : 10002,
                "Off-Broadway" : 17,
                "cat_17" : "Off-Broadway",            
                "Ballet and Dance" : 12,
                "cat_12" : "Ballet and Dance",            
                "Classical" : 203,
                "cat_203" : "Classical",            
                "Comedy" : 51,
                "cat_51" : "Comedy",            
                "Museums and Exhibits" : 14,
                "cat_14" : "Museums and Exhibits",            
                "Musicals" : 207,
                "cat_207" : "Musicals",            
                "Opera" : 13,
                "cat_13" : "Opera",            
                "Plays" : 32,
                "cat_32" : "Plays",            
                "More Arts and Theater" : 53,
                "cat_53" : "More Arts and Theater"            
        },    
        "10003" : {
            "root_name" : "Family",
            "cat_10003" : "All Family",
            "Family" : 10003,
            "All Family" : 10003,
                "Children's Music and Theater" : 23,
                "cat_23" : "Children's Music and Theater",            
                "Circus" : 29,
                "cat_29" : "Circus",            
                "Fairs and Festivals" : 54,
                "cat_54" : "Fairs and Festivals",            
                "Family Attractions" : 19,
                "cat_19" : "Family Attractions",            
                "Ice Shows" : 22,
                "cat_22" : "Ice Shows",            
                "Magic Shows" : 209,
                "cat_209" : "Magic Shows",            
                "More Family" : 55,
                "cat_55" : "More Family"            
        },    
        "10005" : {
            "root_name" : "Miscellaneous",
            "cat_10005" : "All Miscellaneous",
            "Miscellaneous" : 10005,
            "All Miscellaneous" : 10005,
                "Audio Tours" : 240,
                "cat_240" : "Audio Tours",            
                "Camping" : 211,
                "cat_211" : "Camping",            
                "Casino" : 57,
                "cat_57" : "Casino",            
                "Concession Vouchers" : 239,
                "cat_239" : "Concession Vouchers",            
                "Cruise and Sightseeing" : 106,
                "cat_106" : "Cruise and Sightseeing",            
                "Dinner Package" : 238,
                "cat_238" : "Dinner Package",            
                "Donations" : 109,
                "cat_109" : "Donations",            
                "Expo/Convention" : 105,
                "cat_105" : "Expo/Convention",            
                "Gift Certificates" : 56,
                "cat_56" : "Gift Certificates",            
                "Hotel Reservations" : 210,
                "cat_210" : "Hotel Reservations",            
                "Lecture/Seminar" : 104,
                "cat_104" : "Lecture/Seminar",            
                "Merchandise" : 108,
                "cat_108" : "Merchandise",            
                "Merchandise Vouchers" : 242,
                "cat_242" : "Merchandise Vouchers",            
                "Movies" : 59,
                "cat_59" : "Movies",            
                "Parking" : 103,
                "cat_103" : "Parking",            
                "Restaurants" : 58,
                "cat_58" : "Restaurants",            
                "More Miscellaneous" : 0,
                "cat_0" : "More Miscellaneous"            
        }    
    };

    return {
        /**
         * @param int dma
         * @return string
         * @todo redevelop
         */
        getDmaZoneName: function (dma) {
            return "Virginia";
        },

        /**
         * @param int root
         * @param int category
         * @return string
         */
        getCategoryIdByName: function (root, name) {
            if (typeof _self.genres[root] == 'undefined') {
                return 0;
            }

            return _self.genres[root][name] || 0;
        },

        /**
         * @param int root
         * @param int category
         * @return string
         */
        getCategoryName: function (root, category) {
            if (typeof _self.genres[root] == 'undefined') {
                return '';
            }

            return _self.genres[root]['cat_' + category] || '';
        },

        /**
         * @param int root
         * @return string
         */
        getRootName: function (root) {
            return _self.genres[root] ? _self.genres[root]['root_name'] : '';
        },

        /**
         * Return urlified string
         *
         * @param string str
         * @return string suffix
         */
        transformUrlString: function (str, suffix) {
            var result = str.toLowerCase().replace(/^\s+|\s+$/g, '').replace(/&+/g, '-and-').replace(/\W+/g, '-');

            return result.length ? result + suffix : '';
        },

        /**
         * Compose seo link
         *
         * @param object obj
         * @param string linkType
         *
         * @return string
         */
        composeUrl: function (obj, linkType) {
            var result = '/browse', query;
            
            linkType = linkType || _self.defaultLinkType;
            
            obj.root = obj.root || 0;
            obj.rootName = obj.rootName || this.getRootName(obj.root);
            
            obj.category = obj.category || (obj.categoryName ? this.getCategoryIdByName(obj.root, obj.categoryName) : obj.root);
            obj.categoryName = obj.categoryName || this.getCategoryName(obj.root, obj.category);
            
            obj.dma = obj.dma || 0;
            obj.dmaName = obj.dmaName || this.getDmaZoneName(obj.dma);

            obj.queryParams = obj.queryParams || this.getQueryParams();
            
            if (linkType == 'seo') {
                if (obj.category) {
                    result += '/' + this.transformUrlString(obj.categoryName, '-') + 'catid-' + obj.category;
                }

                if (obj.root) {
                    result += '/' + this.transformUrlString(obj.rootName, '-') + 'rid-' + obj.root;
                
                    if (obj.dma) {
                        result += '/' + this.transformUrlString(obj.dmaName, '-') + 'dma-' + obj.dma;
                    }
                }
            } else {
                if (obj.category) {
                    obj.queryParams['category'] = obj.category;
                }
                
                if (obj.root) {
                    obj.queryParams['root'] = obj.root;
                }

                if (obj.dma) {
                    obj.queryParams['dma'] = obj.dma;
                }
            }

            query = $H(this.sortParameters(this.paramFilter(obj.queryParams, obj.excludeKeys || []))).toQueryString();
            return result + (query.length ? '?' + query : '');
        },

        /**
         * Compose URL and redirect to browse page
         *
         * @param object obj
         * @param string linkType
         */
        updateLocation: function (obj, linkType) {
            document.location = this.composeUrl(obj, linkType);
            return false;
        },

        /**
         * Sort query parameters
         *
         * @param object obj
         * @param array keys
         *
         * @return object
         */
        sortParameters: function (obj, keys) {
            var resultObj = {}, i = 0, l = 0;
            keys = keys || _self.sortKeysArr;
            l = keys.length;

            if (!_self.sortKeys || !l) {
                return obj;
            }

            for (; i < l; i++) {
                if (obj.hasOwnProperty(keys[i])) {
                    resultObj[keys[i]] = obj[keys[i]];
                }
            }

            return resultObj;
        },

        /**
         * Return current location path
         * Work only with /browse page
         *
         * @return object
         */
        getPathParams: function () {
            var path = location.pathname, result = {}, tmp;

            if (!/^\/browse/.test(path)) {
                return result;
            }

            tmp = path.match(/\/[\w-]*rid-([0-9]+)/);
            if (tmp && tmp.length) {
                result['root'] = tmp[1];
            }

            tmp = path.match(/\/[\w-]*catid-([0-9]+)/);
            if (tmp && tmp.length) {
                result['category'] = tmp[1];
            }

            tmp = path.match(/\/[\w-]*dma-([0-9]+)/);
            if (tmp && tmp.length) {
                result['dma'] = tmp[1];
            }

            return result;
        },

        /**
         * Return current query parameters
         *
         * @return object
         */
        getQueryParams: function () {
            return location.search ? document.URL.toQueryParams() : {};
        },

        /**
         * Clear query parameters
         *
         * @param object obj
         * @param array excludeKeys
         *
         * @return object
         */
        paramFilter: function (obj, excludeKeys) {
            var i;

            if (!excludeKeys || !excludeKeys.length) {
                excludeKeys = _self.excludedKeys;
            }

            i = excludeKeys.length;
            while (i--) {
                if (obj.hasOwnProperty(excludeKeys[i])) {
                    delete obj[excludeKeys[i]];
                }
            }

            return obj;
        }
    };
})();

/**
 * Transform form data to query params
 *
 * @param HTMLFormElement form
 * @return null redirect
 */
function submitBrowseForm(form) {
    var formData = jQuery(form).serializeArray(), object = {queryParams: {}};

    // Something Goes Wrong
    if (!formData || !formData.length) {
        return false;
    }

    formData.each(function (i) {
        if (i.name == 'category' || i.name == 'root' || i.name == 'dma') {
            object[i.name] = i.value;
        } else {
            object['queryParams'][i.name] = i.value;
        }
    });

    return browseLinks.updateLocation(object);
}
</script>
<script  type="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/omniture_tracker.js"></script>
<script type="text/javascript"> 
var omni_recognized;
var cookie_id = GetCookie("MID");
if ( cookie_id == null || cookie_id.length == 0 ) {
    omni_recognized = "unrecognized";
}
else {
    omni_recognized = "recognized";
}

tm_omn.campaign = calcCampaign();
tm_omn.pageName = "TM_US: EDP: Event No Longer Exist"; /* Page Name */


tm_omn.products = tm_omni_temp.get('omnEID') != '' ? ';' + tm_omni_temp.get('omnEID') : '';
    
        
    


tm_omn.events="";
tm_omn.event74 = "";
tm_omn.event75 = "";
tm_omn.channel = "TM_US: EDP"; /* Page Type */
tm_omn.server = "";  /*  Server */
tm_omn.pageType = ""; /*  Pages Not Found */
tm_omn.prop1 = "TM_US: EDP: Event No Longer Exist";  /* Sub Page Type  */
tm_omn.prop2 = "TM_US: EDP: Error";  /* Level 1 */
tm_omn.prop3 = "TM_US: EDP: Error";  /* Level 2 */
tm_omn.prop4 = "";  /* Previous Page Name      */
tm_omn.prop5 = "";  /* Internal Search Term    */
tm_omn.prop6 = "";  /* Total # of Search Results Returned */
tm_omn.prop7 = "";  /* Search Refinements      */
tm_omn.prop8 = "";  /* Ticket Insurance        */
tm_omn.prop9 = "localized_" + omni_recognized;  /* Navigation State        */
tm_omn.prop10 = "";  /* Flash Version   */
tm_omn.prop11 = "";  /* Set Location Value      */
tm_omn.prop12 = tm_omni_temp.get('prop12') ? tm_omni_temp.get('prop12') : 'Fy';  /* Modules Available       */
tm_omn.prop13 = GetCookie('MID') ? "Recognized" : "Unrecognized";  /* Logged in status        */
tm_omn.prop14 = new $H( location.search.toQueryParams() ).get('tm_link'); /* Navigation Link */
tm_omn.prop15 = "en-us";  /* Language        */
tm_omn.prop16 = "TM_US: EDP: Event No Longer Exist";  /* Page Name - Detailed  */
tm_omn.prop17 = "TM_US";  /* which domain  */ 

/* These props are for Google reCaptcha, Solve Captcha and for Resale listings*/tm_omn.prop18 = "";
tm_omn.prop19 = "";
tm_omn.prop21 = "";

tm_omn.prop27 = GetCookie("BID") ? GetCookie("BID") : "";
tm_omn.prop28 = GetCookie("SID") ? GetCookie("SID") : "";
tm_omn.prop33 = "D=g";
tm_omn.prop44 = "";
tm_omn.prop46 = "";
tm_omn.eVar2 = "";  /* Level 1 */
tm_omn.eVar3 = "";  /* Level 2 */   
tm_omn.eVar7 = ""; /* Internal Search Term    */
tm_omn.eVar8 = tm_omni_temp.get('omnMID');  /* Entry Market    */
tm_omn.eVar9 = tm_omn.prop9;
tm_omn.eVar10 = tm_omni_temp.get('omnMID');  /* Merchandising Market    */
tm_omn.eVar12 = "Fy";  /* Modules Available       */
tm_omn.eVar13 = "";  /* Module clicked  */
tm_omn.eVar14 = "";  /* Navigation Link */
tm_omn.eVar15 = calc15();  /* Merchandising Link      */
tm_omn.eVar16 = tm_omni_temp.get('omnVID');  /* Venue ID */
tm_omn.eVar17 = tm_omni_temp.get('omnAID');  /* Artist ID  */
tm_omn.eVar18 = "";  /* Day of Week     */
tm_omn.eVar19 = "";  /* Time of Day     */
tm_omn.eVar20 = "";  /* Payment Methods */
tm_omn.eVar21 = "none";  /* Brand   */
tm_omn.eVar22 = "en-us";  /* Language */ 
tm_omn.eVar23 = "";  /* EDP Type        */
tm_omn.eVar24 = "Single Event";  /* Checkout Type   */
tm_omn.eVar25 = "";  /* Promotion ID    */
tm_omn.eVar26 = "";  /* Visit Number    */
tm_omn.eVar27 = "";  /* Visit Referral Domain   */
tm_omn.eVar28 = "";  /* Original Referral Domain        */
tm_omn.eVar29 = "";  /* Entry Page Name */
tm_omn.eVar31 = "";  /* Delivery Methods */       
tm_omn.eVar32 = "";  /* BV rating       */
tm_omn.eVar33 = "";  /* Ticket Type     */
tm_omn.eVar34 = "";  /* Inventory Request Type */ 
tm_omn.eVar35 = "";  /* NTF Distribution        */
tm_omn.eVar36 = "";  /* Resale Posting ID or Order ID (same as Purchase ID) */
tm_omn.eVar37 = GetCookie("MID") ? GetCookie("MID") : "";  /* CustomerID      */
tm_omn.eVar38 = "TM_US";
tm_omn.eVar40 = "";
tm_omn.eVar43 = calc43();
if ( Discrete.id ) {
    tm_omn.eVar49 = Discrete.id;
}


tm_omn.eVar50 = GetCookie("MID_MD5") ? GetCookie("MID_MD5") : "";  /* CustomerID MD5     */
tm_omn.eVar52 = calc52();
tm_omn.eVar53 = tm_omn.prop27;
tm_omn.eVar54 = tm_omn.prop28;
tm_omn.eVar59 = "D=g";
tm_omn.pageType = "";
tm_omn.purchaseID  = "";  /* Purchase ID     */
tm_omn.state = "";  /* User Billing State */     
tm_omn.zip = "";  /* User Billing ZIP       */ 
tm_omn.currencyCode = "";  /* Currency Code */  

if(tm_omn.prop14){
   tm_omn.prop14 = "TM_US: " + tm_omn.prop14;
   }
if(tm_omni_temp.get('recentViewCarousel')){
  if(tm_omn.prop12){
     tm_omn.prop12 = tm_omn.prop12 + "," + tm_omni_temp.get('recentViewCarousel');
   }else{
     tm_omn.prop12 = tm_omni_temp.get('recentViewCarousel');
    }
}
    // Optimizely SiteCatalyst Integration
    window.optimizely = window.optimizely || [];
    window.optimizely.push(['activateSiteCatalyst', {'sVariable': tm_omn}]);

tm_omni_temp.set('isEDP','1');
var cached_market_id = 46;
var empty_dma_marketid = true;
var curr_market_id = market_id;
var omni_dma_val = GetCookie('NDMA');
        if(cached_market_id != curr_market_id && (omni_dma_val && !omni_dma_val.empty() && omni_dma_val != '99999')){
               tm_omn.prop9 = tm_omn.prop9.gsub(/national/,'localized');
               tm_omn.eVar9 = tm_omn.prop9;    
         }else if(!omni_dma_val || omni_dma_val.empty() || omni_dma_val == '99999'){
               tm_omn.prop9 = tm_omn.prop9.gsub(/localized/,'national');
               tm_omn.eVar9 = tm_omn.prop9;
                   }
function initshare(){
    new PeriodicalExecuter(function(pe) {
         if( $('at_hover') ) {
            var shareDivs = $$('div[onclick*=addthis_sendto]');
                shareDivs = shareDivs.uniq();
             shareDivs.each( function(d){
                var attr =  d.readAttribute('onclick');
                  if(!attr.include('more')){
                    d.observe('click',function(){
                       omniTracking.trackomni_favoriteshare(['events','products'],['event12',tm_omni_temp.get('omnEID')],'Share Event',d);
                       attr;
                     });
                  }
               });
         pe.stop();
         }
     }, 1);

}
function wt_stringscrape(passedValue, entryOutcome ){
var stringedData;
 try{
    passedValue = passedValue.stripScripts().stripTags().escapeHTML();
    passedValue = passedValue.empty() ? "null" : passedValue;
    passedValue = unescape(passedValue);

    if(entryOutcome){
       tm_omn.prop11 = "Success: " + passedValue;
     }else{
       tm_omn.prop11 = "Error: " + passedValue;
          }

            //if prop14 has value scode populates event. override it.
                tm_omn.prop14 = "";
            var changeLocationClick = new omniCustomClick({
                    linkTrackVars: 'prop11',
                     prop11: tm_omn.prop11
                  },
                 clickLink = 'Change Location',
                   newPage = false
                );
            changeLocationClick.handleClick(changeLocationClick)
    }catch(err){
          
    }
}

            function omniTrack( tag ) {
                tm_omni_temp.set('override_prop4', tm_omn.pageName);
                tm_omni_temp.set('pagetype','search') ;
                new PeriodicalExecuter(function(pe) {
                    if(tm_omni_temp.get('filterComplete') || tag.include('Pagination') || tag.include('other_matches')) {
                       if(tm_omni_temp.get('search_results_total') == tm_omni_temp.get('totalDocs_pageload')){
                             if(tag.include('_Pagination')){
                                 $w('pageName prop16').each( function(cl){
                                    tm_omn[cl] = tm_omn[cl].gsub(/: (Filter|Pagination)/,"") + ": Pagination";
                                 });
                              }else{
                                   if(tag.include('_filter')){
                                       $w('pageName prop16').each( function(cl){
                                           tm_omn[cl] = tm_omn[cl].gsub(/: (Filter|Pagination)/,'');
                                           tm_omn[cl] = tm_omn[cl] + ": Filter";
                                        });
                                   }else{
                                       $w('pageName prop16').each( function(cl){
                                           tm_omn[cl] = tm_omn[cl].gsub(/: (Filter|Pagination)/,'');
                                        });
                                   }
                              }
                        }else{
                             var filt_pag = "";
                             $w('pageName prop16').each( function(cl){
                                tm_omn[cl] = tm_omn[cl].gsub(/: (Filter|Pagination)/,"");
                                  if(tag.include('_Pagination')){
                                    filt_pag = ": Pagination";
                                  }
                                tm_omn[cl] = tm_omn[cl] + ": Filter" + filt_pag;
                             });
                        }                      
                             $w('prop14 prop7 eVar14').each( function(cs){
                                tm_omn[cs] = "TM_US: " + tag;
                             });
                            tm_omn.prop5 = "";
                            tm_omn.eVar7 = "";
                            tm_omn.prop4 = tm_omni_temp.get('override_prop4');
                            tm_omn.t();
                            pe.stop();
                            tm_omni_temp.set('firstFilter', '1')
                            tm_omni_temp.unset('filterComplete');
                      }
                   }, .25);
                 }


function calcCampaign(queryParams) {
  if(typeof queryParams === 'object' && queryParams !== null) {
		var q_p = queryParams;
	} 
	else {
		var q_p = location.search.toQueryParams();
    }

    if( q_p.fb_ref || q_p.SREF ) {

		for(key in q_p) {
			q_p[key] = q_p[key].split("_")[0];
		}

        var map = {
            "FBShare"                 : "SLfbk-001",
            "FBShareBuy"              : "SLfbk-002",
            "FBLike"                  : "SLfbk-003",
            "FBLikeURL"               : "SLfbk-004",
            "FBUnknown"               : "SLfbk-005",
            "FBKSharePurchISMnfss"    : "SLfbk-013",
            "FBKShareBuyPurchISMnfss" : "SLfbk-014",
            "FBKSharePurchISMftss"    : "SLfbk-015",
            "FBKShareBuyPurchISMftss" : "SLfbk-016",
            "FBKSharePurchISMftns"    : "SLfbk-017",
            "FBKShareBuyPurchISMftns" : "SLfbk-018",
            "FBKSharePurchISMnfns"    : "SLfbk-019",
            "FBKShareBuyPurchISMnfns" : "SLfbk-020",
            "FBKShareEdpISMnfss"      : "SLfbk-021",
            "FBKShareBuyEdpISMnfss"   : "SLfbk-022",
            "FBKShareEdpISMftss"      : "SLfbk-023",
            "FBKShareBuyEdpISMftss"   : "SLfbk-024",
            "FBKShareEdpISMftns"      : "SLfbk-025",
            "FBKShareBuyEdpISMftns"   : "SLfbk-026",
            "FBKShareEdpISMnfns"      : "SLfbk-027",
            "FBKShareBuyEdpISMnfns"   : "SLfbk-028",
            "FBKShareEdpSTagISMss"    : "SLfbk-029",
            "FBKShareBuyEdpSTagISMss" : "SLfbk-030",
            "FBKShareEdpSTagISMns"    : "SLfbk-031",
            "FBKShareBuyEdpSTagISMns" : "SLfbk-032",
            "FBKShareEdpFTagISMss"    : "SLfbk-033",
            "FBKShareBuyEdpFTagISMss" : "SLfbk-034",
            "FBKShareEdpFTagISMns"    : "SLfbk-035",
            "FBKShareBuyEdpFTagISMns" : "SLfbk-036",
            "FBKInviteTagNotify"      : "SLfbk-037",
            "FBKInviteEDP"            : "SLfbk-038",
            "FBKInviteHome"           : "SLfbk-039",
            "FBKInviteMusic"          : "SLfbk-040",
            "FBKInviteSports"         : "SLfbk-041",
            "FBKInviteFamily"         : "SLfbk-042",
            "FBKInviteArts"           : "SLfbk-043",
            "FBKInviteMisc"           : "SLfbk-044",
            "FBKInviteArtist"         : "SLfbk-045",
            "FBKInviteConfirmation"   : "SLfbk-046",
            "FBKLikeArtist"           : "SLfbk-047",
            "FBKLikeEvent"            : "SLfbk-048",
            "FBKLikeVenue"            : "SLfbk-049",
            "FBKLikeURLArtist"        : "SLfbk-050",
            "FBKLikeURLVenue"         : "SLfbk-051",
            "FBKLikeURLEvent"         : "SLfbk-052",
            "FBKShareArtist"          : "SLfbk-053",
            "FBKShareBuyArtist"       : "SLfbk-054",
            "FBKShareConfirmation"    : "SLfbk-055",
            "FBKShareBuyConfirmation" : "SLfbk-056",
            "TWArtist"                : "SLfbk-060",
            "TWVenue"                 : "SLfbk-061",
            "TWEvent"                 : "SLfbk-062",
            "TWConfirmation"          : "SLfbk-063",
            "FBKShare"                : "SLfbk-007",
            "FBKShareBuy"             : "SLfbk-008",
            "FBKLike"                 : "SLfbk-009",
            "FBKLikeURL"              : "SLfbk-010",
            "FBKInvite"               : "SLfbk-005",
            "FBKLikeArtist"           : "SLfbk-047",
            "FBKLikeEvent"            : "SLfbk-048",
            "FBKLikeVenue"            : "SLfbk-049",
            "FBiFBShare"              : "SLfbk-011",
            "FBiFBShareBuy"           : "SLfbk-012",
            "FBKInviteEspeciales"     : "SLfbk-044",
            "TWArtistKeyword"         : "SLfbk-064",
            "TWVenueKeyword"          : "SLfbk-065",
            "TWEventKeyword"          : "SLfbk-066",
            "TWConfirmationKeyword"   : "SLfbk-067",
            "FBLikeArtistTMm"         : "SLfbk-068",
            "FBLikeURLArtistTMm"      : "SLfbk-069",
            "FBKLikeEventTMm"         : "SLfbk-070",
            "FBKLikeURLEventTMm"      : "SLfbk-071",
            "FBLikeArtist8BTMef"      : "SLfbk-072",
            "FBLikeURLArtist8BTMef"   : "SLfbk-073",
            "FBLikeArtist8BTMpe"      : "SLfbk-074",
            "FBLikeURLArtist8BTMpe"   : "SLfbk-075",
            "FBLikeArtist8BTM"        : "SLfbk-076",
            "FBLikeURLArtist8BTM"     : "SLfbk-077",
            "FBKLikeEvent8BTM"        : "SLfbk-078",
            "FBKLikeURLEvent8BTM"     : "SLfbk-079",
            "FBKLikeEvent8BTMef"      : "SLfbk-080",
            "FBKLikeURLEvent8BTMef"   : "SLfbk-081",
            "FBKShareRSVP8BTMef"      : "SLfbk-082",
            "FBKShareBuyRSVP8BTMef"   : "SLfbk-083",
            "FBKShareRSVP8BTMedp"     : "SLfbk-084",
            "FBKShareBuyRSVP8BTMedp"  : "SLfbk-085",
            "FBKShareRSVP8BTMedp2"    : "SLfbk-086",
            "FBKShareBuyRSVP8BTMedp2" : "SLfbk-087",
            "FBKShareRSVP8BTMcp"      : "SLfbk-088",
            "FBKShareBuyRSVP8BTMcp"   : "SLfbk-089",
            "FBKShareRSVP8BTMc"       : "SLfbk-090",
            "FBKShareBuyRSVP8BTMc"    : "SLfbk-091",
            "FBKShareWANT8BTMedp"     : "SLfbk-092",
            "FBKShareBuyWANT8BTMedp"  : "SLfbk-093",
            "FBKShareJUST8BTMc"       : "SLfbk-094",
            "FBKShareBuyJUST8BTMc"    : "SLfbk-095" 
        };
        if( map[q_p.fb_ref] || map[q_p.SREF] ) {
            return map[q_p.fb_ref] || map[q_p.SREF];
        }
        else {
            return q_p.fb_ref || q_p.SREF;
        }
    }
}

function calc43() {
    var q_p = location.search.toQueryParams();
    if( q_p.SFBState ) {
        switch( q_p.SFBState ) {
            case "Connected" :
                return 'Connected';
            break;
            case "Not-Connected" :
                return 'Not Connected';
            break;
            case "Unknown" :
                return 'Unknown';
            break;
        }
    }
}

function calc52() {
    var c_v = GetCookie("GEO_OMN");
    if ( c_v == null || c_v.length == 0 ) {
        return 'Geotargeting Not Enabled';
    }
    else {
        switch( c_v ) {
          case "ba":
            return 'No Call Made Browse Area Cookie';
          case "ua":
            return 'No Call Made User Area Cookie';
          case "in":
            return 'In Area';
          case "out":
            return 'Out of Area';
          case "unk":
            return 'Unidentifiable';
          case "aol":
            return 'AOL';
          case "corp":
            return 'Corporation';
          case "anon":
            return 'Anonymous';
          case "sat":
            return 'Satellite';
          case "seo":
            return 'SEO Crawler';
          default:
            return 'Geotargeting No Data';
        }
    }
}

function calc15() {
    var q_p = location.search.toQueryParams();
    if( q_p.tm_link ) {
        return validateTmLink( $H( location.search.toQueryParams() ).get('tm_link') );
    }
    else if(q_p.mch_link){
        return retrieveMchLnk( $H( location.search.toQueryParams() ).get('mch_link') );
    }
    else if( q_p.SREF ) {
        var to_return = 'TM_US: ' + 'FBConn_click_';
        var set_events = false;
        if( q_p.SREF.include("P_HomePageModule_main") ) {
            to_return += 'home1';
            set_events = true;
        }
        if( q_p.SREF.include("P_MusicPageModule_main") ) {
            to_return += 'music1';
            set_events = true;
        }
        if( q_p.SREF.include("P_FamilyPageModule_main") ) {
            to_return += 'family1';
            set_events = true;
        }
        if( q_p.SREF.include("P_ArtsPageModule_main") ) {
            to_return += 'arts1';
            set_events = true;
        }
        if( q_p.SREF.include("P_SportsPageModule_main") ) {
            to_return += 'sports1';
            set_events = true;
        }
        if( q_p.SREF.include("P_SpecialsPageModule_main") ) {
            to_return += 'specials1';
            set_events = true;
        }
        if( q_p.SREF.include("P_ArtistPageModule_main") ) {
            to_return += 'artist1';
            set_events = true;
        }
        if( q_p.SREF.include("P_PurchasePageModule_main") ) {
            to_return += 'purchase1';
            set_events = true;
        }
        if( q_p.SREF.include("P_EventPageModule_main") ) {
            to_return += 'event1';
            set_events = true;
        }
        if( q_p.SREF.include("P_VenuePageModule_main") ) {
            to_return += 'venue1';
            set_events = true;
        }
        if( set_events ) {
            tm_omn.linkTrackVars = 'events,eVar15';
            tm_omn.linkTrackEvents = 'event14';
            tm_omn.events = 'event14';
            return to_return;
        }
    }
}

function retrieveMchLnk(mchLinkVal){
          tm_omn.linkTrackVars = 'events,eVar15';
          tm_omn.linkTrackEvents = 'event14';
          tm_omn.events=tm_omn.apl(tm_omn.events,'event14',',',2);
          mchLinkVal = 'TM_US: ' + mchLinkVal;
          return mchLinkVal;
          tm_omn.eVar15 = tm_omn.getValOnce(tm_omn.eVar15,'s_evar15',0);
}

function validateTmLink(val){
// added tm_artist_rc and tm_artist_rv as a fix for artist page recommendation bug
// this should either be remove or replace artist_rc and artist_rv after we confirm
// artist should have prefix or not
var arrLinkTest = [
                     /^(tm_)(home|homeA|music|sports|arts|family|specials|toros)_(ts|c|d|event|g|h|j|k|lv|n|artist)(\d+)$/i,
                     /^(artist_rc_)(\w+)$/i,
                     /^(artist_rv_)(\w+)$/i,
                     /^(tm_artist_rc_)(\w+)$/i,
                     /^(tm_artist_rv_)(\w+)$/i,
                     /^(edp_artist_)(\w+)$/i,
                     /^(mytm_recommend_image|mytm_recommend_name)(\d+)$/i,
                     /^(tm_)(home|homeA|music|sports|arts|family|specials|toros|artist|conf|mytm|search|browse|venue|conf|mycart)(_rc_)(findtix|image|name|moredates|rating|venue)\d+$/i,
                     /^(tm_)(home|homeA|music|sports|arts|family|specials|toros|artist|conf|mytm|search|browse|venue|conf|mycart)(_rv(\d|\d_viewed\d)?_?)((findtix|image|name|moredates|rating|venue|search|browse)(\d+)?)?$/i,
                     /^(\w*)(_rv_|_rc_|_recommend_)(rating|viewed)\d+/i,
                     /^(tm_)(home|browse|section|search|artist|venue|mytm)(_rv_)(\w*)/i,
                     /(_rv_)(image|name)\d+$/i,
                     /^(tm_)(home|homeA|music|sports|arts|family|specials|toros)(\w*)_(r|f)(\d+)$/i,
                     /^(mytm_favEvent_local\w*)|(mycart_favEvent_local\w*)|(mytm_favEvent_else_Name)$/i,
                     /^(tm_homeA_popular)(\d+)$/i,
                     /^(tm_\w*)(_b_1000)(\d+_\d+)$/i
                            ]

   for(i=0;i<arrLinkTest.length; i++){
       if(arrLinkTest[i].test(val)){
          tm_omn.linkTrackVars = 'events,eVar15';
          tm_omn.linkTrackEvents = 'event14';
          tm_omn.events=tm_omn.apl(tm_omn.events,'event14',',',2);
          val = 'TM_US: ' + val;
          return val;
          tm_omn.eVar15 = 'TM_US: ' + tm_omn.getValOnce(tm_omn.eVar15,'s_evar15',0);
          break;
        }
   }
}

function dcsMultiTrack(){
try{
  var dcs_to_omni = $A(arguments).last();
      omniTracking.navigation_link(dcs_to_omni, false);
   }catch(err){}
}




function sell_flow_confirmation() {}

</script>




































































<div id="pixel_tracking_anchor"></div>
<script type="text/javascript">
<!--
function gaEncodeURIKeyValue(key, value) {
    if (key == '__utmz') {
        var values = value.split(/\./);
        if (values.length) {
            var back = values.pop();
            var front = values.join('.');
            if (front.search(/^((\d+(\.\d+)*)|-)$/) != -1) {
                var back_values = back.split(/\|/);
                var checked_back = '';
                var back_kv;
                for (var i = 0; i < back_values.length; i++) {
                    back_kv = back_values[i].split('=');
                    if (back_kv[0].search(/^utmc(sr|cn|md|tr|ct)$/) != -1) {
                        if (checked_back.length) {
                            checked_back += '|';
                        }
                        var back_kv_value = encodeURIComponent( back_kv[1].replace( / /g, '%20' ) );
                        checked_back += back_kv[0] + '=' + back_kv_value;
                    }
                }
                return '__utmz=' + front + '.' + checked_back;
            }
            else {
                return '';
            }
        }
        else {
            return '';
        }
    }
    else {
        if (value.search(/^((\d+(\.\d+)*)|-)$/) != -1) {
            return encodeURIComponent(key) + '=' + value;
        }
        else {
            return '';
        }
    }
}

function extract_ga_tpqa() {    var tpqa_string = '';    return tpqa_string;
}

function create_iframe() {
    var iframe_attributes = {
        'width':                '1',
        'title':                'hidden frame',
        'scrolling':            'no',
        'height':               '1',
        'frameborder':          '0',
        'marginwidth':          '0',
        'marginheight':         '0',
        'hspace':               '0',
        'vspace':               '0',
        'bordercolor':          '#000000',
        'allowtransparency':    'true',
        'aria-hidden':          'true',
        'tabindex':             '-1',
        'src':                  ''
    };
    var asurl = "http://creatives.as4x.tmcs.net/html.ng/page.uniqueads=yes&page.multiads=yes&Params.styles=funnel_pixel&Params.lifetime=30&site=tm&pagepos=990&adsize=1x1&brand=0&event_name=''&venue_name=''&eventid=&page=event&dmaid=346&pagename=edp&bgcolor=ffffff&cceclassid=0&lang=en-us";
    var tpqa_params = extract_ga_tpqa();
    if (tpqa_params) {
        asurl += '&' + tpqa_params;
    }
    asurl += '&true_ref=' + escape(encodeURIComponent(document.referrer).replace(/\'/g, '%27'));
    if (asurl.length > 2082) {
        asurl = asurl.substring(0, 2069) + asurl.substring(2069, 2082).match( /([^%]*)(%.*)?/ )[1];
    }
    iframe_attributes.src = asurl;
    var iframe_e = new Element('iframe', iframe_attributes);
    Element.insert($('pixel_tracking_anchor'), {'after': iframe_e}); 
}

new OnWindowLoad(create_iframe);
-->
</script>
    
         <iframe src="javascript:''" width="1" scrolling="no" height="1" frameborder="0" marginwidth="0" marginheight="0" hspace="0" vspace="0" bordercolor="#000000" allowtransparency="true" id = "sem_tracking_iframe" title="hidden frame" aria-hidden="true" tabindex="-1"></iframe> 
    <SCRIPT language="JavaScript"><!--
    Event.observe(window, 'load', function(){
    var CAMEFROM_value = getQry("CAMEFROM") ? getQry("CAMEFROM") : GetCookie("CAMEFROM") ? GetCookie("CAMEFROM") : "";
    if(CAMEFROM_value){
        CAMEFROM_value = CAMEFROM_value.stripScripts().stripTags().escapeHTML();
        var codes = ["USSEM","USMKT","GGLE","OVER","MSN","LNC"];
        for (var i=0; i< codes.length; i++){
            var reg_exp = new RegExp('^'+codes[i]+'.*');
            if ( CAMEFROM_value.match( reg_exp ) ){
                var url = "https://de.ticketmaster.com/html.ng/adsize=1x1&artist1_name=''&artistid=&bid_amount=&bid_quantity=&bstate=&bzip=''&channel='Ticketmaster.com'&confcode=&country=''&delivery_method=''&deliverytotal=&event_date=''&event_day=''&event_name=''&event_time=''&event_time_zone=''&eventid=&feetotal=&fvalue=&grandtotal=&lang=en-us&major_cat_name=''&majorcat_id=&minor_cat_name=''&minorcat_id=&orderprocesstotal=&org=''&page='edp'&pagepos=989&pdate=''&pday=''&product_name=''&ptime=''&site=tm&tixp=&venue_name=''&venueid=&venuezip=''&camefromcode="
                          + CAMEFROM_value;
                $('sem_tracking_iframe').src=url;
            }
        }
    }   
    });
    //-->
    </SCRIPT>
    <script type='text/javascript'>
    //<![CDATA[
        var _comscore = _comscore || [];
        var comScoreKW = "";
        if(typeof _comscore !== "undefined") {
            if(comScoreKW && comScoreKW.length > 0) {
                 _comscore.push({ c1: "2", c2: "3005317", options: {url_append: "comscorekw=" + comScoreKW}});
            } else {
                 _comscore.push({ c1: "2", c2: "3005317"});
            }
        }
        new OnWindowLoad( function() {
            (function() {
                  var s = document.createElement("script"), 
                      el = document.getElementsByTagName("script")[0];
                      s.async = true;
                      s.src = (document.location.protocol == "https:" ? "https://sb" : "http://b") + ".scorecardresearch.com/beacon.js";
                      el.parentNode.insertBefore(s, el);
            })();
        }, { load_last: true } );
    //]]>
    </script>
    <noscript>
        <img src="http://b.scorecardresearch.com/p?c1=2&c2=3005317&cv=2.2&cj=1" id="comScore_img" alt="" />
    </noscript><script>
	jQuery("document").ready(function(){
		var contentWrap = jQuery("#contentWrap");
        if(contentWrap && ( !contentWrap.css("background-image").match(/defaultImage\.gif|mosaic-body\.png/i) &&  contentWrap.css("background-image") !== "none")){
			 if(window.RichRelevance && RichRelevance.wallpaperInit){ RichRelevance.wallpaperInit(true); }
        }

        setTimeout(function(){
                if(window.RichRelevance && RichRelevance.wallpaperInit && !RichRelevance.wallpaperResponded.isResolved()){
                    RichRelevance.wallpaperInit(false);
                }
        }, 1000);

	});
</script>    <script type="text/javascript" language="text/javascript" src="http://media.ticketmaster.com/en-us/js/16f6f2591dfb9f750dffeb5cc13a5b45/global_header.js"></script>

	<script type="text/javascript">	
		 if(typeof _satellite !== "undefined" && typeof _satellite.pageBottom === "function"){
		 	 _satellite.pageBottom(); 
		 }
	 </script></body>
</html>


























