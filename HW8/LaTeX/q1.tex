\section{Question 1}

\subsection{The Question}

\begin{flushleft}

What 5 movies have the highest average ratings? Show the movies
and their ratings sorted by their average ratings.

\end{flushleft}
\subsection{The Answer}

THe first step to this question is assigning reviews and their scores to each movie. The reviews were read directly from the file, line by line, and the score for each review appended to a list within each movie object. Then the reviews were averaged
\begin{lstlisting}[caption={Python code for question 1}]
def q1(movies):
	clearScore(movies)
	for i in reviews:
		movies[i.item-1].scores.append(float(i.score))
		movies[i.item-1].cnt +=1

	for i in movies:
		i.avgr(); 
	hRate = sorted(movies, key=lambda x:(x.avg, x.title), reverse=True)
	f = open("q1.txt", "w")
	
	print "\n\tQ1: Highest Average Rating"
	for i in range(0,20):
		print  '%.4f'%hRate[i].avg, hRate[i].title
		f.write("%.4f ,  \"%s\"\n" % (hRate[i].avg, hRate[i].title))

	f.close()

\end{lstlisting}

\begin{flushleft}
\begin{table}[h]
\centering
\setlength{\tabcolsep}{12pt}


\begin{tabular}{|ll|}

\hline
5.0000 & They Made Me a Criminal (1939)                          \\
5.0000 & Star Kid (1997)                                         \\
5.0000 & Someone Else's America (1995)                           \\
5.0000 & Santa with Muscles (1996)                               \\
5.0000 & Saint of Fort Washington The (1993)                     \\
5.0000 & Prefontaine (1997)                                      \\
5.0000 & Marlene Dietrich: Shadow and Light (1996)               \\
5.0000 & Great Day in Harlem A (1994)                            \\
5.0000 & Entertaining Angels: The Dorothy Day Story (1996)       \\
5.0000 & Aiqing wansui (1994)                                    \\
4.6250 & Pather Panchali (1955)                                  \\
4.5000 & Some Mother's Son (1996)                                \\
4.5000 & Maya Lin: A Strong Clear Vision (1994)                  \\
4.5000 & Everest (1998)                                          \\
4.5000 & Anna (1996)                                             \\ \hline
4.4911 & Close Shave A (1995)                                    \\ \hline
4.4664 & Schindler's List (1993)                                 \\ \hline
4.4661 & Wrong Trousers The (1993)                               \\ \hline
4.4568 & Casablanca (1942)                                       \\ \hline
\end{tabular}
\caption{Highest Average Rating}
\end{table}
\end{flushleft}




